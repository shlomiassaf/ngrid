"use strict";(self.webpackChunkngrid_docs_app=self.webpackChunkngrid_docs_app||[]).push([[9553],{27569:(v,b,t)=>{t.d(b,{a:()=>d});var n=t(77093),r=t(23322),o=t(88562),c=t(5e3);let d=(()=>{class i{}return i.\u0275fac=function(u){return new(u||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[n.ae,r.aT,o.RF,n.ae,r.aT,o.RF]}),i})()},39553:(v,b,t)=>{t.r(b),t.d(b,{BlockUiExampleModule:()=>g});var n=t(70655),r=t(69808),o=t(47423),c=t(20773),d=t(85899),i=t(14625),a=t(41689),u=t(88562),B=t(27569),l=t(50841),e=t(5e3),p=t(37048),f=t(72035),h=t(84820);function M(m,s){1&m&&(e.TgZ(0,"div",3),e._UZ(1,"mat-progress-bar",4),e.qZA())}let k=class{constructor(s){this.datasource=s,this.columns=(0,i.I7)().default({minWidth:200}).table({prop:"id"},{prop:"name"}).build(),this.ds=(0,i.AV)().onTrigger(()=>this.datasource.getPeople(1e3)).create()}refresh(){this.ds.refresh()}};function D(m,s){1&m&&(e.TgZ(0,"div",4),e._UZ(1,"mat-spinner"),e.qZA())}k.\u0275fac=function(s){return new(s||k)(e.Y36(l.BQ))},k.\u0275cmp=e.Xpm({type:k,selectors:[["pbl-block-ui-example"]],decls:4,vars:2,consts:[["class","pbl-ngrid-ui-block",4,"pblNgridBlockUiDef"],["blockUi","",3,"dataSource","columns"],["mat-button","",3,"click"],[1,"pbl-ngrid-ui-block"],["mode","indeterminate"]],template:function(s,E){1&s&&(e.YNc(0,M,2,0,"div",0),e._UZ(1,"pbl-ngrid",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return E.refresh()}),e._uU(3,"Refresh"),e.qZA()),2&s&&(e.xp6(1),e.Q6J("dataSource",E.ds)("columns",E.columns))},dependencies:[o.lW,d.pW,p.eZ,f.r,h.C],encapsulation:2,changeDetection:0}),k=(0,n.gn)([(0,u.en)("pbl-block-ui-example",{title:"Block UI: Automatic"}),(0,n.w6)("design:paramtypes",[l.BQ])],k);let U=class{constructor(s){this.datasource=s,this.columns=(0,i.I7)().default({minWidth:200}).table({prop:"id"},{prop:"name"}).build(),this.ds=(0,i.AV)().onTrigger(()=>this.datasource.getPeople(1e3)).create()}};U.\u0275fac=function(s){return new(s||U)(e.Y36(l.BQ))},U.\u0275cmp=e.Xpm({type:U,selectors:[["pbl-manual-example"]],decls:5,vars:2,consts:[["blockUi","false",3,"dataSource","columns"],["blockUi","blockUi"],["class","pbl-ngrid-ui-block",4,"pblNgridBlockUiDef"],["mat-button","",3,"click"],[1,"pbl-ngrid-ui-block"]],template:function(s,E){if(1&s){const P=e.EpF();e.TgZ(0,"pbl-ngrid",0,1),e.YNc(2,D,2,0,"div",2),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){e.CHM(P);const _=e.MAs(1);return e.KtG(_.blockUi=!_.blockUi)}),e._uU(4,"Toggle Block UI (plugin instance)"),e.qZA()}2&s&&e.Q6J("dataSource",E.ds)("columns",E.columns)},dependencies:[o.lW,c.Ou,p.eZ,f.r,h.C],encapsulation:2,changeDetection:0}),U=(0,n.gn)([(0,u.en)("pbl-manual-example",{title:"Block UI: Manual"}),(0,n.w6)("design:paramtypes",[l.BQ])],U);let g=class{};g.\u0275fac=function(s){return new(s||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[r.ez,o.ot,c.Cq,d.Cv,B.a,i.dC,a.sj]}),g=(0,n.gn)([(0,u.qB)(k,U)],g)},41689:(v,b,t)=>{t.d(b,{sj:()=>a}),t(72035);var r=t(84820),o=t(69808),c=t(47796),d=t(14625),i=t(5e3);class a{}a.NGRID_PLUGIN=(0,d.Ic)({id:r.d},r.C),a.\u0275fac=function(B){return new(B||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[o.ez,c.HT,d.dC]})},84820:(v,b,t)=>{t.d(b,{C:()=>a,d:()=>i});var n=t(54715),r=t(63191),o=t(3805),c=t(14625),d=t(5e3);const i="blockUi";let a=(()=>{class u{constructor(l,e){this.grid=l,this._blockInProgress=!1,this._removePlugin=e.setPlugin(i,this),l.registry.changes.subscribe(p=>{for(const f of p)"blocker"===f.type&&this.setupBlocker()}),e.onInit().subscribe(p=>{p&&this._blockUi&&"boolean"==typeof this._blockUi&&this.setupBlocker()}),e.events.subscribe(p=>{if("onDataSource"===p.kind){const{prev:f,curr:h}=p;f&&o.dW.kill(this,f),h.onSourceChanging.pipe((0,o.dW)(this,h)).subscribe(()=>{"auto"===this._blockUi&&(this._blockInProgress=!0,this.setupBlocker())}),h.onSourceChanged.pipe((0,o.dW)(this,h)).subscribe(()=>{"auto"===this._blockUi&&(this._blockInProgress=!1,this.setupBlocker())})}})}get blockUi(){return this._blockUi}set blockUi(l){let e=(0,r.Ig)(l);e&&("auto"===l||""===l)&&(e="auto"),(0,n.b)(l)&&this._blockUi!==l?((0,n.b)(this._blockUi)&&o.dW.kill(this,this._blockUi),this._blockUi=l,l.pipe((0,o.dW)(this,this._blockUi)).subscribe(p=>{this._blockInProgress=p,this.setupBlocker()})):this._blockUi!==e&&(this._blockUi=e,"auto"!==e&&(this._blockInProgress=e,this.setupBlocker()))}ngOnDestroy(){o.dW.kill(this),this._removePlugin(this.grid)}setupBlocker(){if(this.grid.isInit)if(this._blockInProgress){if(!this._blockerEmbeddedVRef){const e=this.grid.registry.getSingle("blocker");e&&(this._blockerEmbeddedVRef=this.grid.createView("afterContent",e.tRef,{$implicit:this.grid}),this._blockerEmbeddedVRef.detectChanges())}}else this._blockerEmbeddedVRef&&(this.grid.removeView(this._blockerEmbeddedVRef,"afterContent"),this._blockerEmbeddedVRef=void 0)}}return u.\u0275fac=function(l){return new(l||u)(d.Y36(c.eZ),d.Y36(c.q5))},u.\u0275dir=d.lG2({type:u,selectors:[["pbl-ngrid","blockUi",""]],inputs:{blockUi:"blockUi"},exportAs:["blockUi"]}),u})()},72035:(v,b,t)=>{t.d(b,{r:()=>o});var n=t(14625),r=t(5e3);let o=(()=>{class c extends n.iT{constructor(i,a){super(i,a),this.kind="blocker"}}return c.\u0275fac=function(i){return new(i||c)(r.Y36(r.Rgc),r.Y36(n.B6))},c.\u0275dir=r.lG2({type:c,selectors:[["","pblNgridBlockUiDef",""]],features:[r.qOj]}),c})()}}]);