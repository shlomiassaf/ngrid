(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{V48m:function(e,t,s){"use strict";s.r(t),s.d(t,"SelectionColumnExampleModule",function(){return j});var c=s("mrSG"),i=s("ofXK"),l=s("XEBs"),n=s("bSwM"),o=s("DcT9"),a=s("fXoL"),b=s("P2FH"),r=s("aR4q"),h=s("L3Ad");function d(e,t){if(1&e){const e=a.bc();a.ac(0,"label"),a.ac(1,"input",4),a.lc("input",function(){return a.Hc(e),a.pc(2).masterToggle()}),a.Zb(),a.Zb()}if(2&e){const e=a.pc(2);a.Jb(e.selectionClass),a.Hb(1),a.wc("checked",e.allSelected)}}function u(e,t){if(1&e&&(a.Yb(0),a.Qc(1,d,2,3,"label",3),a.Xb()),2&e){const e=a.pc();a.Hb(1),a.wc("ngIf","none"!==e.bulkSelectMode)}}function p(e,t){if(1&e){const e=a.bc();a.ac(0,"label"),a.ac(1,"input",5),a.lc("input",function(){a.Hc(e);const s=t.row;return a.pc().rowItemChange(s)}),a.Zb(),a.Zb()}if(2&e){const e=t.row,s=a.pc();a.Hb(1),a.Jb(s.selectionClass),a.wc("checked",s.selection.isSelected(e))("disabled",s.isCheckboxDisabled(e))}}function m(e,t){if(1&e&&(a.ac(0,"span"),a.Sc(1),a.Zb()),2&e){const e=a.pc();a.Hb(1),a.Tc(e.length?e.length:"")}}const f=()=>!1;let k=(()=>{class e{constructor(e,t){this.table=e,this.cdr=t,this.allSelected=!1,this._isCheckboxDisabled=f,l.m.find(e).events.pipe(Object(o.r)(this)).subscribe(e=>{"onDataSource"===e.kind&&(this.selection=e.curr.selection)})}get bulkSelectMode(){return this._bulkSelectMode}set bulkSelectMode(e){e!==this._bulkSelectMode&&(this._bulkSelectMode=e,this.setupSelection())}get selection(){return this._selection}set selection(e){e!==this._selection&&(this._selection=e,this.setupSelection())}get isCheckboxDisabled(){return this._isCheckboxDisabled}set isCheckboxDisabled(e){e!==this._isCheckboxDisabled&&(this._isCheckboxDisabled=e,this._isCheckboxDisabled&&"function"==typeof this._isCheckboxDisabled||(this._isCheckboxDisabled=f))}get selectionClass(){return this._selectionClass}set selectionClass(e){e!==this._selectionClass&&(this._selectionClass=e,this.table.isInit&&this.markAndDetect())}ngAfterViewInit(){!this.selection&&this.table.ds&&(this.selection=this.table.ds.selection);const e=this.table.registry;e.addMulti("headerCell",this.headerDef),e.addMulti("tableCell",this.cellDef),e.addMulti("footerCell",this.footerDef)}ngOnDestroy(){o.r.kill(this)}masterToggle(){if(this.allSelected)this.selection.clear();else{const e=this.getCollection().filter(e=>!this._isCheckboxDisabled(e));this.selection.select(...e)}}rowItemChange(e){this.selection.toggle(e),this.markAndDetect()}onInput(e,t){console.log(e,t)}getCollection(){const{ds:e}=this.table;return"view"===this.bulkSelectMode?e.renderedData:e.source}setupSelection(){o.r.kill(this,this.table),this._selection?(this.length=this.selection.selected.length,this.selection.changed.pipe(Object(o.r)(this,this.table)).subscribe(()=>this.handleSelectionChanged()),("view"===this.bulkSelectMode?this.table.ds.onRenderedDataChanged:this.table.ds.onSourceChanged).pipe(Object(o.r)(this,this.table)).subscribe(()=>this.handleSelectionChanged())):this.length=0}handleSelectionChanged(){const{length:e}=this.getCollection().filter(e=>!this._isCheckboxDisabled(e));this.allSelected=!this.selection.isEmpty()&&this.selection.selected.length===e,this.length=this.selection.selected.length,this.markAndDetect()}markAndDetect(){this.cdr.markForCheck(),this.cdr.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(a.Ub(l.f),a.Ub(a.h))},e.\u0275cmp=a.Ob({type:e,selectors:[["pbl-ngrid-bs-checkbox"]],viewQuery:function(e,t){if(1&e&&(a.Zc(l.i,3),a.Zc(l.e,3),a.Zc(l.h,3)),2&e){let e;a.Dc(e=a.mc())&&(t.headerDef=e.first),a.Dc(e=a.mc())&&(t.cellDef=e.first),a.Dc(e=a.mc())&&(t.footerDef=e.first)}},inputs:{name:"name",bulkSelectMode:"bulkSelectMode",selection:"selection",isCheckboxDisabled:"isCheckboxDisabled",selectionClass:"selectionClass"},decls:3,vars:3,consts:[[4,"pblNgridHeaderCellDef"],[4,"pblNgridCellDef"],[4,"pblNgridFooterCellDef"],[3,"class",4,"ngIf"],["type","checkbox",3,"checked","input"],["type","checkbox",3,"checked","disabled","input"]],template:function(e,t){1&e&&(a.Qc(0,u,2,1,"ng-container",0),a.Qc(1,p,2,4,"label",1),a.Qc(2,m,2,1,"span",2)),2&e&&(a.wc("pblNgridHeaderCellDef",t.name),a.Hb(1),a.wc("pblNgridCellDef",t.name),a.Hb(1),a.wc("pblNgridFooterCellDef",t.name))},directives:[b.a,r.a,h.a,i.p],styles:[""],encapsulation:2,changeDetection:0}),e})();const g="bsSelectionColumn";let C=(()=>{class e{constructor(e,t,s,c){this.table=e,this.cfr=t,this.injector=s,this._selectionClass="",this._removePlugin=c.setPlugin(g,this)}get isCheckboxDisabled(){return this._isCheckboxDisabled}set isCheckboxDisabled(e){e!==this._isCheckboxDisabled&&(this._isCheckboxDisabled=e,this.cmpRef&&e&&(this.cmpRef.instance.isCheckboxDisabled=e,this.cmpRef.changeDetectorRef.detectChanges()))}get bsSelectionColumn(){return this._name}set bsSelectionColumn(e){e!==this._name&&(this._name=e,e?(this.cmpRef||(this.cmpRef=this.cfr.resolveComponentFactory(k).create(this.injector),this.cmpRef.instance.table=this.table,this._bulkSelectMode&&(this.cmpRef.instance.bulkSelectMode=this._bulkSelectMode),this.cmpRef.instance.selectionClass=this._selectionClass),this.isCheckboxDisabled&&(this.cmpRef.instance.isCheckboxDisabled=this.isCheckboxDisabled),this.cmpRef.instance.name=e,this.cmpRef.changeDetectorRef.detectChanges()):this.cmpRef&&(this.cmpRef.destroy(),this.cmpRef=void 0))}get bulkSelectMode(){return this._bulkSelectMode}set bulkSelectMode(e){e!==this._bulkSelectMode&&(this._bulkSelectMode=e,this.cmpRef&&(this.cmpRef.instance.bulkSelectMode=e))}get bsSelectionClass(){return this._selectionClass}set matCheckboxSelectionColor(e){e!==this._selectionClass&&(this._selectionClass=e,this.cmpRef&&(this.cmpRef.instance.selectionClass=e))}ngOnDestroy(){this.cmpRef&&this.cmpRef.destroy(),this._removePlugin(this.table)}}return e.\u0275fac=function(t){return new(t||e)(a.Ub(l.f),a.Ub(a.j),a.Ub(a.v),a.Ub(l.m))},e.\u0275dir=a.Pb({type:e,selectors:[["pbl-ngrid","bsSelectionColumn",""]],inputs:{isCheckboxDisabled:"isCheckboxDisabled",bsSelectionColumn:"bsSelectionColumn",bulkSelectMode:"bulkSelectMode",bsSelectionClass:"bsSelectionClass"}}),e})(),S=(()=>{class e{}return e.NGRID_PLUGIN=Object(l.u)({id:g},C),e.\u0275mod=a.Sb({type:e}),e.\u0275inj=a.Rb({factory:function(t){return new(t||e)},imports:[[i.c,n.b,l.j]]}),e})();var D=s("YT2F"),x=s("WPM6"),w=s("9Q/P"),M=s("fluT"),_=s("XkVd");let y=(()=>{let e=class{constructor(e){this.datasource=e,this.columns=Object(l.r)().default({minWidth:100}).table({prop:"selection",width:"48px"},{prop:"id",sort:!0,width:"40px"},{prop:"name",sort:!0},{prop:"gender",width:"50px"},{prop:"birthdate",type:"date"},{prop:"bio"},{prop:"email",minWidth:250,width:"250px"},{prop:"language",headerType:"language"}).build(),this.ds=Object(l.s)().onTrigger(()=>this.datasource.getPeople(0,15)).create()}};return e.\u0275fac=function(t){return new(t||e)(a.Ub(M.a))},e.\u0275cmp=a.Ob({type:e,selectors:[["pbl-bs-selection-column-example"]],decls:1,vars:2,consts:[["bsSelectionColumn","selection",1,"pbl-ngrid-cell-ellipsis",3,"dataSource","columns"]],template:function(e,t){1&e&&a.Vb(0,"pbl-ngrid",0),2&e&&a.wc("dataSource",t.ds)("columns",t.columns)},directives:[_.a,C],styles:[""],encapsulation:2,changeDetection:0}),e=Object(c.a)([Object(D.e)("pbl-bs-selection-column-example",{title:"Selection Column"}),Object(c.b)("design:paramtypes",[M.a])],e),e})();var v=s("XiUz");let R=(()=>{let e=class{constructor(e){this.datasource=e,this.columns=Object(l.r)().default({minWidth:100}).table({prop:"selection",width:"48px"},{prop:"id",sort:!0,width:"40px"},{prop:"name",sort:!0},{prop:"gender",width:"50px"},{prop:"birthdate",type:"date"},{prop:"bio"},{prop:"email",minWidth:250,width:"250px"},{prop:"language",headerType:"language"}).build(),this.ds=Object(l.s)().onTrigger(()=>this.datasource.getPeople(0,500)).create(),this.bulkSelectMode="all"}};return e.\u0275fac=function(t){return new(t||e)(a.Ub(M.a))},e.\u0275cmp=a.Ob({type:e,selectors:[["pbl-bs-bulk-mode-and-virtual-scroll-example"]],decls:17,vars:12,consts:[["bsSelectionColumn","selection","showFooter","",1,"pbl-ngrid-cell-ellipsis",3,"bulkSelectMode","dataSource","columns"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","16px",2,"margin","8px 16px"],[1,"btn-group","btn-group-toggle"],[1,"btn","btn-primary"],["type","radio",3,"checked","input"],["inputAll",""],["inputView",""],["inputNone",""]],template:function(e,t){if(1&e){const e=a.bc();a.Vb(0,"pbl-ngrid",0),a.ac(1,"div",1),a.ac(2,"h3"),a.Sc(3,"Bulk Mode: "),a.Zb(),a.ac(4,"div",2),a.ac(5,"label",3),a.ac(6,"input",4,5),a.lc("input",function(){return a.Hc(e),a.Ec(7).checked?t.bulkSelectMode="all":null}),a.Zb(),a.Sc(8," All "),a.Zb(),a.ac(9,"label",3),a.ac(10,"input",4,6),a.lc("input",function(){return a.Hc(e),a.Ec(11).checked?t.bulkSelectMode="view":null}),a.Zb(),a.Sc(12," View "),a.Zb(),a.ac(13,"label",3),a.ac(14,"input",4,7),a.lc("input",function(){return a.Hc(e),a.Ec(15).checked?t.bulkSelectMode="none":null}),a.Zb(),a.Sc(16," None "),a.Zb(),a.Zb(),a.Zb()}2&e&&(a.wc("bulkSelectMode",t.bulkSelectMode)("dataSource",t.ds)("columns",t.columns),a.Hb(5),a.Mb("active","all"===t.bulkSelectMode),a.Hb(1),a.wc("checked","all"===t.bulkSelectMode),a.Hb(3),a.Mb("active","view"===t.bulkSelectMode),a.Hb(1),a.wc("checked","view"===t.bulkSelectMode),a.Hb(3),a.Mb("active","none"===t.bulkSelectMode),a.Hb(1),a.wc("checked","none"===t.bulkSelectMode))},directives:[_.a,C,v.c,v.b,v.d],styles:[""],encapsulation:2,changeDetection:0}),e=Object(c.a)([Object(D.e)("pbl-bs-bulk-mode-and-virtual-scroll-example",{title:"Bulk Mode & Virtual Scroll"}),Object(c.b)("design:paramtypes",[M.a])],e),e})(),j=(()=>{let e=class{};return e.\u0275mod=a.Sb({type:e}),e.\u0275inj=a.Rb({factory:function(t){return new(t||e)},imports:[[w.a,i.c,x.a,l.j,S]]}),e=Object(c.a)([Object(D.a)(y,R)],e),e})()}}]);