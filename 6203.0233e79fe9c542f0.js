"use strict";(self.webpackChunkngrid_docs_app=self.webpackChunkngrid_docs_app||[]).push([[6203],{27569:(U,m,e)=>{e.d(m,{a:()=>h});var g=e(1576),s=e(55829),l=e(88562),d=e(94650);let h=(()=>{class o{}return o.\u0275fac=function(f){return new(f||o)},o.\u0275mod=d.oAB({type:o}),o.\u0275inj=d.cJS({imports:[g.ae,s.aT,l.RF,g.ae,s.aT,l.RF]}),o})()},66203:(U,m,e)=>{e.r(m),e.d(m,{CopySelectionExampleModule:()=>y});var g=e(70655),s=e(14625),l=e(41689),d=e(92198),h=e(36895),o=e(94650);class a{constructor(n,t){this._document=t;const i=this._textarea=this._document.createElement("textarea"),c=i.style;c.position="fixed",c.top=c.opacity="0",c.left="-999em",i.setAttribute("aria-hidden","true"),i.value=n,i.readOnly=!0,this._document.body.appendChild(i)}copy(){const n=this._textarea;let t=!1;try{if(n){const i=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),t=this._document.execCommand("copy"),i&&i.focus()}}catch{}return t}destroy(){const n=this._textarea;n&&(n.remove(),this._textarea=void 0)}}let f=(()=>{class r{constructor(t){this._document=t}copy(t){const i=this.beginCopy(t),c=i.copy();return i.destroy(),c}beginCopy(t){return new a(t,this._document)}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(h.K0))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var C=e(3805);const E=/^mac/.test(navigator.platform.toLowerCase()),D="clipboard";let R=(()=>{class r{constructor(t,i,c){this.grid=t,this.injector=i,this.pluginCtrl=c,this.config=i.get(s.f8),this.clipboard=i.get(f),this.init()}static create(t,i){const c=s.q5.find(t);return new r(t,i,c)}ngOnDestroy(){C.dW.kill(this),this._removePlugin(this.grid)}isCopyEvent(t){return!!(t instanceof KeyboardEvent&&"c"===t.key&&(!E&&t.ctrlKey||E&&t.metaKey))}doCopy(){const{cellSeparator:t,rowSeparator:i}=this.config.get("clipboard",{}),{rows:c,minIndex:I}=this.getSelectedRowData(this.grid);this.clipboard.copy(c.map(O=>O.slice(I).join(this.clpCellSep||t||"\t")).join(this.clpRowSep||i||"\n"))}getSelectedRowData(t){const{columnApi:i,contextApi:c}=t,I=new Map;let k=Number.MAX_SAFE_INTEGER;for(const _ of c.selectedCells){const x=i.columns[_.colIndex];if(x){const M=i.renderIndexOf(x);if(M>-1){const B=c.findRowInCache(_.rowIdent).dsIndex,G=x.getValue(t.ds.source[B]),N=I.get(_.rowIdent)||[];N[M]=G,I.set(_.rowIdent,N),k=Math.min(k,M)}}}const O=Array.from(I.entries());return O.sort((_,x)=>c.findRowInCache(_[0]).dsIndex<c.findRowInCache(x[0]).dsIndex?-1:1),{minIndex:k,rows:O.map(_=>_[1])}}init(){this._removePlugin=this.pluginCtrl.setPlugin(D,this),this.pluginCtrl.ensurePlugin("targetEvents"),this.pluginCtrl.getPlugin("targetEvents").keyDown.pipe((0,d.h)(i=>this.isCopyEvent(i.source)),(0,C.dW)(this)).subscribe(i=>this.doCopy())}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(s.eZ),o.Y36(o.zs3),o.Y36(s.q5))},r.\u0275dir=o.lG2({type:r,selectors:[["pbl-ngrid","clipboard",""]],inputs:{clpCellSep:"clpCellSep",clpRowSep:"clpRowSep"},exportAs:["pblNgridClipboard"]}),r})();var F=e(42502);class b{constructor(n){s.q5.onCreatedSafe(b,(t,i)=>{!0===n.get(D,{}).autoEnable&&i.onInit().subscribe(()=>{i.hasPlugin(D)||i.createPlugin(D)})})}}b.NGRID_PLUGIN=(0,s.Ic)({id:D,factory:"create"},R),b.\u0275fac=function(n){return new(n||b)(o.LFG(s.f8))},b.\u0275mod=o.oAB({type:b}),b.\u0275inj=o.cJS({imports:[h.ez,s.dC,F.sx]});var S=e(88562),W=e(27569),A=e(50841),K=e(81134),w=e(37048);let P=class{constructor(n){this.datasource=n,this.columns=(0,s.I7)().table({prop:"id",sort:!0,width:"40px"},{prop:"name",sort:!0},{prop:"gender",width:"50px"},{prop:"birthdate",type:"date"},{prop:"bio"},{prop:"email",minWidth:250,width:"250px"},{prop:"language",headerType:"language"}).build(),this.ds=(0,s.AV)().onTrigger(()=>this.datasource.getPeople(100,500)).create(),this.hideColumns=["bio"]}};P.\u0275fac=function(n){return new(n||P)(o.Y36(A.BQ))},P.\u0275cmp=o.Xpm({type:P,selectors:[["pbl-copy-selection-example"]],decls:1,vars:3,consts:[["clipboard","","focusMode","cell",3,"dataSource","columns","hideColumns"]],template:function(n,t){1&n&&o._UZ(0,"pbl-ngrid",0),2&n&&o.Q6J("dataSource",t.ds)("columns",t.columns)("hideColumns",t.hideColumns)},dependencies:[K.$,w.eZ,R],encapsulation:2,changeDetection:0}),P=(0,g.gn)([(0,S.en)("pbl-copy-selection-example",{title:"Copy Selection"}),(0,g.w6)("design:paramtypes",[A.BQ])],P);let y=class{};y.\u0275fac=function(n){return new(n||y)},y.\u0275mod=o.oAB({type:y}),y.\u0275inj=o.cJS({imports:[W.a,s.dC,l.sj,b]}),y=(0,g.gn)([(0,S.qB)(P)],y)},41689:(U,m,e)=>{e.d(m,{sj:()=>a}),e(72035);var s=e(84820),l=e(36895),d=e(55013),h=e(14625),o=e(94650);class a{}a.NGRID_PLUGIN=(0,h.Ic)({id:s.d},s.C),a.\u0275fac=function(T){return new(T||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[l.ez,d.HT,h.dC]})},84820:(U,m,e)=>{e.d(m,{C:()=>a,d:()=>o});var g=e(54715),s=e(21281),l=e(3805),d=e(14625),h=e(94650);const o="blockUi";let a=(()=>{class f{constructor(p,u){this.grid=p,this._blockInProgress=!1,this._removePlugin=u.setPlugin(o,this),p.registry.changes.subscribe(C=>{for(const E of C)"blocker"===E.type&&this.setupBlocker()}),u.onInit().subscribe(C=>{C&&this._blockUi&&"boolean"==typeof this._blockUi&&this.setupBlocker()}),u.events.subscribe(C=>{if("onDataSource"===C.kind){const{prev:E,curr:v}=C;E&&l.dW.kill(this,E),v.onSourceChanging.pipe((0,l.dW)(this,v)).subscribe(()=>{"auto"===this._blockUi&&(this._blockInProgress=!0,this.setupBlocker())}),v.onSourceChanged.pipe((0,l.dW)(this,v)).subscribe(()=>{"auto"===this._blockUi&&(this._blockInProgress=!1,this.setupBlocker())})}})}get blockUi(){return this._blockUi}set blockUi(p){let u=(0,s.Ig)(p);u&&("auto"===p||""===p)&&(u="auto"),(0,g.b)(p)&&this._blockUi!==p?((0,g.b)(this._blockUi)&&l.dW.kill(this,this._blockUi),this._blockUi=p,p.pipe((0,l.dW)(this,this._blockUi)).subscribe(C=>{this._blockInProgress=C,this.setupBlocker()})):this._blockUi!==u&&(this._blockUi=u,"auto"!==u&&(this._blockInProgress=u,this.setupBlocker()))}ngOnDestroy(){l.dW.kill(this),this._removePlugin(this.grid)}setupBlocker(){if(this.grid.isInit)if(this._blockInProgress){if(!this._blockerEmbeddedVRef){const u=this.grid.registry.getSingle("blocker");u&&(this._blockerEmbeddedVRef=this.grid.createView("afterContent",u.tRef,{$implicit:this.grid}),this._blockerEmbeddedVRef.detectChanges())}}else this._blockerEmbeddedVRef&&(this.grid.removeView(this._blockerEmbeddedVRef,"afterContent"),this._blockerEmbeddedVRef=void 0)}}return f.\u0275fac=function(p){return new(p||f)(h.Y36(d.eZ),h.Y36(d.q5))},f.\u0275dir=h.lG2({type:f,selectors:[["pbl-ngrid","blockUi",""]],inputs:{blockUi:"blockUi"},exportAs:["blockUi"]}),f})()},72035:(U,m,e)=>{e.d(m,{r:()=>l});var g=e(14625),s=e(94650);let l=(()=>{class d extends g.iT{constructor(o,a){super(o,a),this.kind="blocker"}}return d.\u0275fac=function(o){return new(o||d)(s.Y36(s.Rgc),s.Y36(g.B6))},d.\u0275dir=s.lG2({type:d,selectors:[["","pblNgridBlockUiDef",""]],features:[s.qOj]}),d})()}}]);