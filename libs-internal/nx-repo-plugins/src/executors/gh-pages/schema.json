{
  "$schema": "http://json-schema.org/schema",
  "cli": "nx",
  "title": "GhPages executor",
  "description": "",
  "type": "object",
  "properties": {
    "baseHref": {
      "type": "string",
      "description": "Base url for the application being built."
    },
    "buildTarget": {
      "type": "string",
      "description": "Target to build the client side client application.",
      "default": "build"
    },
    "serverTarget": {
      "type": "string",
      "description": "Target to build the server side client application.",
      "default": "server"
    },
    "ssrWebpackConfig": {
      "type": "string",
      "description": "Webpack configuration file to execute that builds the application which render server side pages to be used as cached SSR files to serve."
    },
    "ssrProccessingScript": {
      "type": "string",
      "description": "The bundle file generated by 'ssrWebpackConfig'. Running this file will create all SSR pages."
    },
    "assets": {
      "type": "array",
      "description": "List of assets to copy. Runnling last, post 'ssrProccessingScript'",
      "default": [],
      "items": {
        "$ref": "#/definitions/assetPattern"
      }
    },
    "runLocalServer": {
      "type": "boolean",
      "description": "When true, execute a local server to test the output as if it was on github pages."
    }
  },
  "required": [
    "baseHref",
    "buildTarget",
    "serverTarget",
    "ssrWebpackConfig",
    "ssrProccessingScript"
  ],
  "definitions": {
    "assetPattern": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "glob": {
              "type": "string",
              "description": "The pattern to match."
            },
            "input": {
              "type": "string",
              "description": "The input directory path in which to apply 'glob'. Defaults to the project root."
            },
            "ignore": {
              "description": "An array of globs to ignore.",
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "output": {
              "type": "string",
              "description": "Absolute path within the output."
            },
            "explicitFileName": {
              "type": "string",
              "description": "When set, copy the input file into a specific output file. Requires the input glob to return a single result."
            }
          },
          "additionalProperties": false,
          "required": ["glob", "output"]
        },
        {
          "type": "string"
        }
      ]
    }
  }
}
