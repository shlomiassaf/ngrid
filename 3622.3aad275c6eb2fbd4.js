"use strict";(self.webpackChunkngrid_docs_app=self.webpackChunkngrid_docs_app||[]).push([[3622],{43622:(A,D,l)=>{l.d(D,{a5:()=>m,R6:()=>rt});var v=l(3805),b=l(591),g=l(21086),p=l(40537),S=l(92198),x=l(72986),C=l(2994),V=l(24850);const f={};class k{constructor(t,e){this.context=t,this.end=-1,this.start=0,this._maxSize=0,this.options=Object.assign({},e||{})}get maxSize(){return this._maxSize}get size(){return this.end-this.start+1}get empty(){return 0===this.size}remove(t,e){return[[Math.max(t,this.start),Math.min(t+e-1,this.end)]]}setCacheSize(t){this._maxSize=Math.max(0,t);const e=this.alignBoundary(this.lastAdd||1);return e<0?[[this.start+e,this.start-1]]:e>0?[[this.end+1,this.end+e]]:[]}update(t,e,i){if(this.empty)return this.add(t,e-t+1);if(!this.isSibling(t,e,i)){const s=this.clear();return this.add(t,e-t+1),s}return-1===i?this.add(t,this.start-t):1===i?this.add(this.end+1,e-this.end):void 0}clear(){if(this.lastAdd=void 0,this.empty)return[[0,0]];const{start:t,end:e}=this;return this.start=0,this.end=-1,[[t,e]]}createBlock(t,e,i=0){const[s,r,c]=this.matchBlock(t,e)||[];if(!s)return;const{blockSize:o}=this.context.options;let h,a;switch(s){case-1:h=Math.max(0,c-(o-1)),a=c;break;case 1:h=r,a=r+o-1}if(i&&h>=i)return;const d=1===s?h:a;let T=d%o;return 0!==T&&(h=d-T,a=h+o-1),i&&a>=i&&(a=i-1,h=a-a%o),[s,h,a]}matchBlock(t,e){return this.empty?[1,t,e]:t>=this.start&&e<=this.end?void 0:t<this.start&&e>=this.start-1?[-1,t,this.start-1]:e>this.end&&t<=this.end+1?[1,this.end+1,e]:[e>this.end?1:-1,t,e]}oversize(){return this._maxSize?Math.max(this.size-this._maxSize,0):0}isSibling(t,e,i){return 1===i?this.end+1===t:-1===i&&this.start-1===e}add(t,e){if(t<0||e<=0)return[];let i,s=t+e-1;return this.empty?(this.start=t,this.end=s,i=this.alignBoundary(1)):t<this.start?(this.start=t,i=this.alignBoundary(-(this.lastAdd=-1))):s>this.end&&(this.end=s,i=this.alignBoundary(-(this.lastAdd=1))),i<0?[[this.start+i,this.start-1]]:i>0?[[this.end+1,this.end+i]]:[]}alignBoundary(t){const e=this.oversize();if(e){if(1!==t)return this.start+=e,-e;this.end-=e}return e}}class w{constructor(t,e){this.start=t,this.end=e}static calcEnd(t,e){return t+e-1}get size(){return this.end-this.start+1}get empty(){return 0===this.size}containsRow(t){return t>=this.start&&t<=this.end}equals(t){return this.start===t.start&&this.end===t.end}}class O extends Array{constructor(){super(...arguments),this.dirty=!1,this._size=0}get size(){return this.dirty&&this.onDirty(),this._size}remove(t,e,i=0){const s=[],r=w.calcEnd(t,e),c=this.searchByRow(t,i);if(-1!==c){const o=this[c],h=o.end,a=h-r;if(o.end=t-1,0===a)s.push([t,r]);else if(a<0)s.push([t,h],...this.remove(h+1,a,c+1));else{const d=new w(r+1,h);this.splice(c,0,d),s.push([t,r])}s.length>0&&this.markDirty()}return s}removeItems(t,e){const i=[];let s;for(;t>0&&(s=-1===e?this.shift():this.pop(),s);)s.size>t?(-1===e?(s.start+=t,i.push([s.start-t,s.start-1])):(s.end-=t,i.push([s.end+1,s.end+t])),t=0):(t-=s.size,i.push([s.start,s.end]),s=void 0);return s&&(-1===e?this.unshift(s):this.push(s)),i.length>0&&this.markDirty(),i}clear(){const t=[];for(;this.length>0;){const e=this.shift();t.push([e.start,e.end])}return t.length>0&&this.markDirty(),t}findClosestMissing(t,e){const i=this[this.searchByRow(t)];return i?1===e?i.end+1:i.start-1:t}containsRange(t,e){const i=this[this.searchByRow(t)];return i&&e<=i.end}searchByRow(t,e=0){let i=this.length-1;for(;e<=i;){let s=Math.floor((e+i)/2);const r=this[s];if(r.containsRow(t))return s;r.end<t?e=s+1:i=s-1}return-1}searchRowProximity(t,e=0){let i=this.length-1,s=-1;for(;e<=i;){let r=Math.floor((e+i)/2);const c=this[r];if(c.containsRow(t))return r;c.end<t?e=r+1:(s=r,i=r-1)}return s}markDirty(){this.dirty=!0}checkAndMerge(){for(let t=1;t<this.length;t++)this[t-1].end+1===this[t].start&&(this[t-1].end=this[t].end,this.splice(t,1),t-=1)}onDirty(){this.dirty=!1,this._size=this.reduce((t,e)=>t+e.size,0)}}var u=(()=>{return(n=u||(u={}))[n.none=0]="none",n[n.full=1]="full",n[n.contained=2]="contained",n[n.contains=3]="contains",n[n.partial=4]="partial",u;var n})();function L(n,t,e){return n.equals(t)?u.full:(void 0===e&&(e=function _(n,t){const e=n.start<t.start?n:t,i=e===n?t:n;return e.end<i.start?null:new w(i.start,e.end<i.end?e.end:i.end)}(n,t)),e?n.equals(e)?u.contained:t.equals(e)?u.contains:u.partial:u.none)}class j{constructor(t,e){this.context=t,this._maxSize=0,this.fragments=new O,this.lastStartRow=0,this.lastDir=1,this.options=Object.assign({},e||{})}get maxSize(){return this._maxSize}get size(){return this.fragments.size}get empty(){return 0===this.size}remove(t,e){return this.fragments.remove(t,e)}setCacheSize(t){return this._maxSize=Math.max(0,t),this.alignBoundary()}update(t,e,i){return this.coldLocation=1===i?-1:1,this.add(t,e)}clear(){return this.coldLocation=void 0,this.empty?[[0,0]]:this.fragments.clear()}createBlock(t,e,i=0){const[s,r,c]=this.matchBlock(t,e)||[];if(!s)return;const{blockSize:o}=this.context.options,{strictPaging:h}=this.options;let a,d;switch(s){case-1:a=Math.max(0,c-(o-1)),d=c,!h&&a<r&&(a=Math.min(this.fragments.findClosestMissing(a,1),r));break;case 1:a=r,d=r+o-1,!h&&d>c&&(d=Math.max(this.fragments.findClosestMissing(d,-1),c))}if(!(i&&a>=i)){if(h){const T=1===s?a:d;let G=T%o;0!==G&&(a=T-G,d=a+o-1)}return i&&d>=i&&(d=i-1,h&&(a=d-d%o)),[s,a,d]}}matchBlock(t,e){if(this.empty)return[1,t,e];const i=this.fragments.searchRowProximity(t),s=this.fragments.searchRowProximity(e);if(-1===i)return[1,t,e];const r=this.fragments[i];if(-1===s)return[1,r.containsRow(t)?r.end+1:t,e];const c=L(r,new w(t,e)),o=this.lastStartRow>t?-1:this.lastStartRow===t?this.lastDir:1;switch(this.lastStartRow=t,this.lastDir=o,c){case u.none:return[o,t,e];case u.partial:if(i===s)return t<r.start?[o,t,r.start-1]:[o,r.end+1,e];{const a=this.fragments[s];return[o,t<r.start?t:r.end+1,e>=a.start?a.start-1:e]}case u.contained:const h=this.fragments[s];return[o,t,e>=h.start?h.start-1:e];case u.contains:case u.full:return}}add(t,e){if(t<0||e<=0)return[];const i=new w(t,e),s=this.fragments.searchRowProximity(t),r=this.fragments[s];switch(r?L(r,i):null){case null:this.fragments.push(i);break;case u.none:this.fragments.splice(s,0,i);break;case u.partial:case u.contained:let o=this.fragments.searchRowProximity(e);-1===o&&(o=this.fragments.length-1);const h=this.fragments[o];r.start=Math.min(i.start,r.start),i.end>=h.start?(r.end=i.end,this.fragments.splice(s+1,o-s)):(r.end=Math.max(i.end,r.end),this.fragments.splice(s+1,o-1-s));break;case u.contains:case u.full:return[]}return this.fragments.markDirty(),this.fragments.checkAndMerge(),this.alignBoundary()}oversize(){return this._maxSize?Math.max(this.size-this._maxSize,0):0}alignBoundary(){const t=this.oversize();return t>0?this.fragments.removeItems(t,this.coldLocation||1):[]}}class U{constructor(t,e){this.context=t,this.virtualRow=e,this.ds=t.getDataSource()}get maxSize(){return this.ds.length}get size(){return this.ds.length}get empty(){return 0===this.size}remove(t,e){return[[0,Math.min(t+e-1,this.ds.length)]]}setCacheSize(t){return[]}update(t,e,i){return[]}clear(){return[[0,this.ds.length-1]]}createBlock(t,e,i=0){const[s,r,c]=this.matchBlock(t,e)||[];if(!s)return;const{blockSize:o}=this.context.options;let h,a;switch(s){case-1:h=Math.max(0,c-(o-1)),a=c;break;case 1:h=r,a=r+o-1}return i&&h>=i?void 0:(i&&a>=i&&(a=i-1),[s,h,a])}matchBlock(t,e){if(t===e)return[1,t,e];const i=this.ds.source;for(let s=t;s<=e&&i[s]!==this.virtualRow;s++)t=s;return t!==e?[1,t,e]:void 0}}class K{constructor(t,e){this.context=t,this.cacheAdapter=function W(n,t){switch(t.type){case"noOpCache":return new U(n,f);case"sequenceBlocks":return new k(n,t.options);case"fragmentedBlocks":return new j(n,t.options)}}(t,function $(n){return n||(n={type:"noOpCache"}),n}(e)),this.setCacheSize(300)}get maxSize(){return this.cacheAdapter.maxSize}get size(){return this.cacheAdapter.size}get empty(){return this.cacheAdapter.empty}setCacheSize(t){this.cacheAdapter.setCacheSize(t)}matchNewBlock(){const t=this.context.getDataSource(),e=this.context.totalLength,i=t.renderStart+t.renderLength,s=t.renderStart,r=e?Math.min(i,e):i;return this.cacheAdapter.createBlock(s,r,e)}createInitialBlock(){const t=this.context.getDataSource(),e=this.context.totalLength,i=t.renderLength,r=e?Math.min(i,e):i;return this.cacheAdapter.createBlock(0,r,e)}update(t,e,i){return this.cacheAdapter.update(t,e,i)}clear(){return this.cacheAdapter.clear()}}function N(n){const t=n.getDataSource();return!(n.totalLength&&t.renderStart>n.totalLength||!n.cache.matchNewBlock())}function P(n,t,e){const i=n.length;if(i<t.totalLength&&t.totalLength>t.toRow&&n[i-1]!==f){const s=Math.min(i+e-1,t.totalLength);for(let r=i;r<s;r++)n[r]=f;return!0}return!1}var y=l(14625);class z extends y.Qe{constructor(t,e){super(t.getAdapter(),e),this.context=t}get maxCacheSize(){return this.context.cache.maxSize}get cacheSize(){return this.context.cache.size}setCacheSize(t){this.context.cache.setCacheSize(t)}purgeCache(){const t=this.source;for(const[e,i]of this.context.cache.clear())for(let s=e;s<=i;s++)t[s]=f;this.refresh()}isVirtualRow(t){return t===f}isVirtualContext(t){return t.$implicit===f}updateVirtualSize(t){this.adapter.inFlight?this.onRenderDataChanging.pipe((0,x.q)(1)).subscribe(e=>{z.updateVirtualSize(t,e.data),this._onRenderDataChanging.next(e)}):z.updateVirtualSize(t,this.source)}static updateVirtualSize(t,e){if(e&&e.length<t)for(let i=e.length;i<t;i++)e[i]=f}}var J=l(80013);class E extends y.Wx{constructor(t,e,i){super(s=>t.onTrigger(s),e),this.context=t,this.virtualRowsLoading=i.pipe((0,J.b)(24))}dispose(){this.context.dispose(),super.dispose()}emitOnSourceChanging(t){t.isInitial&&super.emitOnSourceChanging(t)}}var Y=l(54715),Z=l(5254),q=l(56498),tt=l(8929);class et extends q.y{constructor(t,e){super(i=>this.onSubscribe(i)),this.event=t,this.target=e,this.onKilled=new tt.xQ,this.canLive=!1}keepAlive(){this.canLive=!0}onSubscribe(t){return this.subscriber=t,this.baseSubscription||(this.baseSubscription=this.target.subscribe({next:e=>this.subscriber.next(e),error:e=>{this.error=e,this.subscriber.error(e)},complete:()=>{this.completed=!0,this.subscriber.complete()}})),()=>this.tearDown()}tearDown(){!this.canLive||this.completed||this.error?(this.baseSubscription.unsubscribe(),this.onKilled.next(),this.onKilled.complete()):this.canLive=!1}}class it{constructor(t){this.handler=t,this.slots=2,this.runningEvents=new Map}execute(t,e=!1){const i=this.checkOverlap(t);if(i)return!!e&&(i.keepAlive(),i);const s=this.handler(t);if(!1===s)return!1;const r=Array.isArray(s)?(0,g.of)(s):(0,Y.b)(s)?s:(0,Z.D)(s),c=new et(t,r);return c.onKilled.subscribe(()=>this.runningEvents.delete(t)),this.runningEvents.set(t,c),c}checkOverlap(t){for(const[e,i]of this.runningEvents.entries())if(t.fromRow>=e.fromRow&&t.toRow<=e.toRow)return i}}class M{constructor(t=null){this.event=t}isDone(){return this.done}rangeEquals(t){return t.fromRow===this.event.fromRow&&t.toRow===this.event.toRow}skipNextRender(){return!!this.notFull&&(this.notFull=!1,!0)}pipe(){return t=>t.pipe((0,C.b)(e=>{this.done=!0,this.notFull=e.length<this.event.offset}))}}class st{constructor(t){this.factoryOptions=t,this.onVirtualLoading=new b.X(!1),this.virtualLoadingSessions=0,this.timeoutCancelTokens=new Set,this.ignoreScrolling=!1,this.lastEventState=new M,this.options=function H(n){const t=n||{};return t.blockSize=Number(t.blockSize),(Number.isNaN(t.blockSize)||t.blockSize<=0)&&(t.blockSize=50),t.initialVirtualSize=Number(t.initialVirtualSize),Number.isNaN(t.initialVirtualSize)&&(t.initialVirtualSize=0),t}(t.infiniteOptions),this.options.initialVirtualSize>0&&(this.totalLength=this.options.initialVirtualSize),this.queue=new it(this.factoryOptions.onTrigger)}onTrigger(t){if(t.isInitial)return this.invokeInitialOnTrigger(t);if(this.pendingTrigger$){const e=this.pendingTrigger$;if(this.pendingTrigger$=void 0,t.data.changed&&t.data.curr===e)return this.currentSessionToken=void 0,e.pipe((0,p.x)(()=>{this.deferSyncRows(16,()=>this.tickVirtualLoading(-1))}))}if(this.currentSessionToken&&t.data.changed&&t.data.curr===this.currentSessionToken){if(this.ds.hostGrid.viewport.isScrolling)return this.handleScrolling(t),(0,g.of)(this.ds.source);const{result:e,event:i}=this.invokeRuntimeOnTrigger(t);if(!e||!i)return this.currentSessionToken=void 0,!1;{const{source:s}=this.ds;return P(s,i,this.options.blockSize)?(this.pendingTrigger$=e,this.tickVirtualLoading(1),(0,g.of)(s).pipe((0,p.x)(()=>{this.deferSyncRows(),this.currentSessionToken=void 0,this.ds.refresh(e)}))):e.pipe((0,p.x)(()=>{this.deferSyncRows(16),this.currentSessionToken=void 0}))}}return!!(t.data.changed||this.customTriggers&&E.isCustomBehaviorEvent(t,this.customTriggers))&&(this.cache.clear(),t.isInitial=!0,this.invokeInitialOnTrigger(t))}getAdapter(){return this.adapter||(this.customTriggers=this.factoryOptions.customTriggers||!1,this.adapter=new E(this,{filter:!0,sort:!0,pagination:!0},this.onVirtualLoading)),this.adapter}getDataSource(){return this.ds||(this.ds=new z(this,this.factoryOptions.dsOptions),this.cache=new K(this,this.factoryOptions.cacheOptions),this.ds.onRenderedDataChanged.subscribe(()=>this.onRenderedDataChanged()),this.factoryOptions.onCreated&&this.factoryOptions.onCreated(this.ds)),this.ds}dispose(){this.onVirtualLoading.complete();for(const t of this.timeoutCancelTokens.values())clearTimeout(t)}onRenderedDataChanged(){if(!this.lastEventState.skipNextRender())if(this.currentSessionToken)this.ds.hostGrid.viewport.isScrolling?this.ignoreScrolling||(this.ignoreScrolling=!0,this.ds.hostGrid.viewport.scrolling.pipe((0,S.h)(t=>0===t),(0,x.q)(1)).subscribe(t=>{this.ignoreScrolling=!1,N(this)&&(this.currentSessionToken=void 0,this.onRenderedDataChanged())})):this.ds.refresh(this.currentSessionToken={});else if(N(this)){const t=this.currentSessionToken={};this.safeAsyncOp(()=>{this.currentSessionToken===t&&this.ds.refresh(t)},0)}}wrapEventState(t){return(this.lastEventState=new M(t)).pipe()}deferSyncRows(t=0,e,i){this.safeAsyncOp(()=>{e&&e(),this.ds.hostGrid.rowsApi.syncRows("data",!0),i&&i()},t)}safeAsyncOp(t,e){const i=setTimeout(()=>{this.timeoutCancelTokens.delete(i),t()},e);this.timeoutCancelTokens.add(i)}tickVirtualLoading(t){this.virtualLoadingSessions=this.virtualLoadingSessions+t;const e=this.onVirtualLoading.value;switch(this.virtualLoadingSessions){case 0:e&&this.onVirtualLoading.next(!1);break;case 1:!e&&this.onVirtualLoading.next(!0);break;default:this.virtualLoadingSessions<0&&(this.virtualLoadingSessions=0)}}handleScrolling(t){this.tickVirtualLoading(1);const e=this.cache.matchNewBlock(),i=!!e&&this.tryGetInfiniteEvent(t,e);!1!==i&&P(this.ds.source,i,this.options.blockSize),this.ds.hostGrid.viewport.scrolling.pipe((0,S.h)(s=>0===s),(0,x.q)(1)).subscribe(s=>{const{result:r}=this.invokeRuntimeOnTrigger(t);r?(this.pendingTrigger$&&this.tickVirtualLoading(-1),this.ds.refresh(this.pendingTrigger$=r)):this.pendingTrigger$?this.tickVirtualLoading(-1):this.ds.refresh(this.pendingTrigger$=(0,g.of)(this.ds.source))})}invokeInitialOnTrigger(t){const e=this.tryGetInfiniteEvent(t,this.cache.createInitialBlock()),i=this.queue.execute(e);return i&&i.pipe(this.wrapEventState(e),(0,C.b)(s=>{this.cache.clear(),s.length>1&&this.cache.update(0,s.length-1,1),z.updateVirtualSize(this.options.initialVirtualSize,s),t.isInitial||this.ds.hostGrid.viewport.scrollToOffset(0)}))}invokeRuntimeOnTrigger(t){const e=this.cache.matchNewBlock(),i=!!e&&this.tryGetInfiniteEvent(t,e);if(!1!==i){if(this.lastEventState.isDone()&&this.lastEventState.rangeEquals(i))return{event:!1};i.eventSource="infiniteScroll";const s=this.queue.execute(i,!0);if(!1!==s)return{event:i,result:s.pipe(this.wrapEventState(i),(0,V.U)(r=>function X(n,t,e){if(n.cache.empty)return e;const i=n.getDataSource().source,s=n.cache.update(t.fromRow,t.toRow,t.direction);for(const[c,o]of s)for(let h=c;h<=o;h++)i[h]=f;const{fromRow:r}=t;for(let c=0,o=e.length;c<o;c++)i[c+r]=e[c];return i}(this,i,r)))}}return{event:i}}tryGetInfiniteEvent(t,e){const i=this.totalLength||0;return t.updateTotalLength=s=>{this.totalLength=s},t.totalLength=i,function Q(n,t,e){const[i,s,r]=e;return t.isInitial||1===i&&r===n-1&&(t.isLastBlock=!0),t.direction=i,t.fromRow=s,t.offset=r-s+1,t.toRow=r,t}(i,t,e)}}class nt extends v.t0{withInfiniteScrollOptions(t){return this.infiniteScrollOptions=t,this}withCacheOptions(t,e){return this.cacheOptions={type:t,options:e},this}create(){return this.context=new st({onTrigger:this._adapter.onTrigger,customTriggers:this._adapter.customTriggers,onCreated:this._onCreated,dsOptions:this._dsOptions,infiniteOptions:this.infiniteScrollOptions,cacheOptions:this.cacheOptions}),super.onCreated(null),super.create()}createAdapter(){return this.context.getAdapter()}createDataSource(t){return this.context.getDataSource()}}function rt(){return new nt}var ot=l(18304),at=l(92402),ct=l(69808),ht=l(47796),lt=l(42502),R=l(5e3);function ut(n,t){1&n&&(R.TgZ(0,"pbl-ngrid-row",1),R._uU(1," ...Loading\n"),R.qZA())}let dt=(()=>{class n{createCell(e){}destroyCell(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=R.Xpm({type:n,selectors:[["pbl-ngrid-default-infinite-virtual-row"]],decls:1,vars:0,consts:[["in","","class","pbl-ngrid-infinite-virtual-row","infiniteRow","",4,"pblNgridInfiniteVirtualRowDef"],["in","","infiniteRow","",1,"pbl-ngrid-infinite-virtual-row"]],template:function(e,i){1&e&&R.YNc(0,ut,2,0,"pbl-ngrid-row",0)},dependencies:[ot.a,at.h],styles:['.pbl-ngrid-infinite-virtual-row .pbl-ngrid-cell{position:relative}.pbl-ngrid-infinite-virtual-row .pbl-ngrid-cell:before{position:absolute;top:12px;left:12px;right:12px;bottom:12px;content:" ";animation-duration:2s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:placeload;animation-timing-function:ease;background:#f6f7f8;background:#eeeeee;background:linear-gradient(to right,#eeeeee 8%,#dddddd 18%,#eeeeee 33%);background-size:200px 100%;border-radius:4px}@keyframes placeload{0%{background-position:-200px 0}to{background-position:200px 0}}\n'],encapsulation:2}),n})();const I="infiniteScroll",F=(n,t)=>t===f,ft=(n,t)=>!F(0,t);class B{constructor(t,e,i){this.grid=t,this.pluginCtrl=e,this.injector=i,this._enabled=!1,this._removePlugin=e.setPlugin(I,this),t.registry.changes.subscribe(s=>{for(const r of s)"infiniteVirtualRow"===r.type&&("remove"===r.op&&(this.pluginCtrl.extApi.cdkTable.removeRowDef(r.value),this._infiniteVirtualRowDef=void 0),this.setupInfiniteVirtualRow())}),e.events.pipe(v.vS).subscribe(()=>{this._infiniteVirtualRowRef&&this._infiniteVirtualRowRef.destroy(),this._removePlugin(this.grid)}),e.events.subscribe(s=>{if("onDataSource"===s.kind){const r=this._enabled;this._enabled=s.curr instanceof z,this._enabled!==r&&e.onInit().subscribe(()=>this.updateTable())}})}static create(t,e){const i=y.q5.find(t);return new B(t,i,e)}setupInfiniteVirtualRow(){const t=this.grid;if(this._infiniteVirtualRowDef&&(this.pluginCtrl.extApi.cdkTable.removeRowDef(this._infiniteVirtualRowDef),this._infiniteVirtualRowDef=void 0),this._enabled){let i=t.registry.getSingle("infiniteVirtualRow");if(i)this._infiniteVirtualRowDef=i=i.clone(),Object.defineProperty(i,"when",{enumerable:!0,get:()=>F});else if(!this._infiniteVirtualRowRef)return this._infiniteVirtualRowRef=this.injector.get(R._Vd).resolveComponentFactory(dt).create(this.injector),void this._infiniteVirtualRowRef.changeDetectorRef.detectChanges()}this.resetTableRowDefs()}resetTableRowDefs(){this._infiniteVirtualRowDef&&(!1===this._enabled?this.pluginCtrl.extApi.cdkTable.removeRowDef(this._infiniteVirtualRowDef):this.pluginCtrl.extApi.cdkTable.addRowDef(this._infiniteVirtualRowDef))}updateTable(){this.grid._tableRowDef.when=this._enabled?ft:void 0,this.setupInfiniteVirtualRow(),this.pluginCtrl.extApi.cdkTable.updateRowDefCache(),this.pluginCtrl.extApi.cdkTable.multiTemplateDataRows=!!this._enabled}}class m{constructor(){y.q5.onCreatedSafe(m,(t,e)=>{e&&e.hasAncestor(m)&&e.createPlugin(I)})}}m.NGRID_PLUGIN=(0,y.Ic)({id:I,factory:"create"},B),m.\u0275fac=function(t){return new(t||m)},m.\u0275mod=R.oAB({type:m}),m.\u0275inj=R.cJS({imports:[ct.ez,ht.HT,y.dC,lt.sx]})},18304:(A,D,l)=>{l.d(D,{a:()=>g});var v=l(14625),b=l(5e3);let g=(()=>{class p extends v.rB{ngOnInit(){this.registry.setSingle("infiniteVirtualRow",this)}ngOnDestroy(){this.registry.setSingle("infiniteVirtualRow",void 0)}}return p.\u0275fac=function(){let S;return function(C){return(S||(S=b.n5z(p)))(C||p)}}(),p.\u0275dir=b.lG2({type:p,selectors:[["","pblNgridInfiniteVirtualRowDef",""]],inputs:{columns:["pblNgridInfiniteVirtualRowDefColumns","columns"],when:["pblNgridInfiniteVirtualRowDefWhen","when"]},features:[b.qOj]}),p})()},92402:(A,D,l)=>{l.d(D,{h:()=>V});var v=l(47796),b=l(14625),g=l(5e3);const p=["infiniteRow",""],S=[[["",8,"pbl-ngrid-row-prefix"]],"*",[["",8,"pbl-ngrid-row-suffix"]]],x=[".pbl-ngrid-row-prefix","*",".pbl-ngrid-row-suffix"];let V=(()=>{class f extends b.wk{canCreateCell(){return!1}}return f.\u0275fac=function(){let k;return function(O){return(k||(k=g.n5z(f)))(O||f)}}(),f.\u0275cmp=g.Xpm({type:f,selectors:[["pbl-ngrid-row","infiniteRow",""]],hostAttrs:["role","row",1,"pbl-ngrid-row"],exportAs:["pblNgridInfiniteRow"],features:[g._Bn([{provide:v._J,useExisting:b.wk}]),g.qOj],attrs:p,ngContentSelectors:x,decls:3,vars:0,template:function(w,O){1&w&&(g.F$t(S),g.Hsn(0),g.Hsn(1,1),g.Hsn(2,2))},encapsulation:2,changeDetection:0}),f})()}}]);