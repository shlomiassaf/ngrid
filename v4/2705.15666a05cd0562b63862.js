(self.webpackChunkpebula=self.webpackChunkpebula||[]).push([[2705],{70946:(e,t,i)=>{"use strict";i.d(t,{a:()=>l});var s=i(3722),c=i(20377),r=i(91668),o=i(31572);let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ae,c.aT,r.RF],s.ae,c.aT,r.RF]}),e})()},12705:(e,t,i)=>{"use strict";i.r(t),i.d(t,{BlockUiExampleModule:()=>B});var s=i(64762),c=i(61511),r=i(15980),o=i(67806),l=i(45994),n=i(64914),u=i(89393),a=i(91668),d=i(70946),b=i(46418),p=i(31572),k=i(90366),h=i(88853),g=i(31486);function f(e,t){1&e&&(p.TgZ(0,"div",3),p._UZ(1,"mat-progress-bar",4),p.qZA())}let m=(()=>{let e=class{constructor(e){this.datasource=e,this.columns=(0,n.I7)().default({minWidth:200}).table({prop:"id"},{prop:"name"}).build(),this.ds=(0,n.AV)().onTrigger(()=>this.datasource.getPeople(1e3)).create()}refresh(){this.ds.refresh()}};return e.\u0275fac=function(t){return new(t||e)(p.Y36(b.BQ))},e.\u0275cmp=p.Xpm({type:e,selectors:[["pbl-block-ui-example"]],decls:4,vars:2,consts:[["class","pbl-ngrid-ui-block",4,"pblNgridBlockUiDef"],["blockUi","",3,"dataSource","columns"],["mat-button","",3,"click"],[1,"pbl-ngrid-ui-block"],["mode","indeterminate"]],template:function(e,t){1&e&&(p.YNc(0,f,2,0,"div",0),p._UZ(1,"pbl-ngrid",1),p.TgZ(2,"button",2),p.NdJ("click",function(){return t.refresh()}),p._uU(3,"Refresh"),p.qZA()),2&e&&(p.xp6(1),p.Q6J("dataSource",t.ds)("columns",t.columns))},directives:[k.r,h.eZ,g.C,r.lW,l.pW],styles:[""],encapsulation:2,changeDetection:0}),e=(0,s.gn)([(0,a.en)("pbl-block-ui-example",{title:"Block UI: Automatic"}),(0,s.w6)("design:paramtypes",[b.BQ])],e),e})();function U(e,t){1&e&&(p.TgZ(0,"div",4),p._UZ(1,"mat-spinner"),p.qZA())}let _=(()=>{let e=class{constructor(e){this.datasource=e,this.columns=(0,n.I7)().default({minWidth:200}).table({prop:"id"},{prop:"name"}).build(),this.ds=(0,n.AV)().onTrigger(()=>this.datasource.getPeople(1e3)).create()}};return e.\u0275fac=function(t){return new(t||e)(p.Y36(b.BQ))},e.\u0275cmp=p.Xpm({type:e,selectors:[["pbl-manual-example"]],decls:5,vars:2,consts:[["blockUi","false",3,"dataSource","columns"],["blockUi","blockUi"],["class","pbl-ngrid-ui-block",4,"pblNgridBlockUiDef"],["mat-button","",3,"click"],[1,"pbl-ngrid-ui-block"]],template:function(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"pbl-ngrid",0,1),p.YNc(2,U,2,0,"div",2),p.qZA(),p.TgZ(3,"button",3),p.NdJ("click",function(){p.CHM(e);const t=p.MAs(1);return t.blockUi=!t.blockUi}),p._uU(4,"Toggle Block UI (plugin instance)"),p.qZA()}2&e&&p.Q6J("dataSource",t.ds)("columns",t.columns)},directives:[h.eZ,g.C,k.r,r.lW,o.$g],styles:[""],encapsulation:2,changeDetection:0}),e=(0,s.gn)([(0,a.en)("pbl-manual-example",{title:"Block UI: Manual"}),(0,s.w6)("design:paramtypes",[b.BQ])],e),e})(),B=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[c.ez,r.ot,o.Cq,l.Cv,d.a,n.dC,u.sj]]}),e=(0,s.gn)([(0,a.qB)(m,_)],e),e})()},89393:(e,t,i)=>{"use strict";i.d(t,{sj:()=>n}),i(90366);var s=i(31486),c=i(61511),r=i(20531),o=i(64914),l=i(31572);let n=(()=>{class e{}return e.NGRID_PLUGIN=(0,o.Ic)({id:s.d},s.C),e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[c.ez,r.HT,o.dC]]}),e})()},31486:(e,t,i)=>{"use strict";i.d(t,{d:()=>n,C:()=>u});var s=i(4710),c=i(19861),r=i(7997),o=i(64914),l=i(31572);const n="blockUi";let u=(()=>{class e{constructor(e,t){this.grid=e,this._blockInProgress=!1,this._removePlugin=t.setPlugin(n,this),e.registry.changes.subscribe(e=>{for(const t of e)switch(t.type){case"blocker":this.setupBlocker()}}),t.onInit().subscribe(e=>{e&&this._blockUi&&"boolean"==typeof this._blockUi&&this.setupBlocker()}),t.events.subscribe(e=>{if("onDataSource"===e.kind){const{prev:t,curr:i}=e;t&&r.dW.kill(this,t),i.onSourceChanging.pipe((0,r.dW)(this,i)).subscribe(()=>{"auto"===this._blockUi&&(this._blockInProgress=!0,this.setupBlocker())}),i.onSourceChanged.pipe((0,r.dW)(this,i)).subscribe(()=>{"auto"===this._blockUi&&(this._blockInProgress=!1,this.setupBlocker())})}})}get blockUi(){return this._blockUi}set blockUi(e){let t=(0,c.Ig)(e);!t||"auto"!==e&&""!==e||(t="auto"),(0,s.b)(e)&&this._blockUi!==e?((0,s.b)(this._blockUi)&&r.dW.kill(this,this._blockUi),this._blockUi=e,e.pipe((0,r.dW)(this,this._blockUi)).subscribe(e=>{this._blockInProgress=e,this.setupBlocker()})):this._blockUi!==t&&(this._blockUi=t,"auto"!==t&&(this._blockInProgress=t,this.setupBlocker()))}ngOnDestroy(){r.dW.kill(this),this._removePlugin(this.grid)}setupBlocker(){if(this.grid.isInit)if(this._blockInProgress){if(!this._blockerEmbeddedVRef){const e=this.grid.registry.getSingle("blocker");e&&(this._blockerEmbeddedVRef=this.grid.createView("afterContent",e.tRef,{$implicit:this.grid}),this._blockerEmbeddedVRef.detectChanges())}}else this._blockerEmbeddedVRef&&(this.grid.removeView(this._blockerEmbeddedVRef,"afterContent"),this._blockerEmbeddedVRef=void 0)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(o.eZ),l.Y36(o.q5))},e.\u0275dir=l.lG2({type:e,selectors:[["pbl-ngrid","blockUi",""]],inputs:{blockUi:"blockUi"},exportAs:["blockUi"]}),e})()},90366:(e,t,i)=>{"use strict";i.d(t,{r:()=>r});var s=i(64914),c=i(31572);let r=(()=>{class e extends s.iT{constructor(e,t){super(e,t),this.kind="blocker"}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Rgc),c.Y36(s.B6))},e.\u0275dir=c.lG2({type:e,selectors:[["","pblNgridBlockUiDef",""]],features:[c.qOj]}),e})()}}]);