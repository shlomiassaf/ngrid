(self.webpackChunkpebula=self.webpackChunkpebula||[]).push([[7219],{70946:(e,t,r)=>{"use strict";r.d(t,{a:()=>a});var o=r(3722),s=r(20377),n=r(91668),i=r(31572);let a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[o.ae,s.aT,n.RF],o.ae,s.aT,n.RF]}),e})()},27219:(e,t,r)=>{"use strict";r.r(t),r.d(t,{OverlayPanelExampleModule:()=>v});var o=r(64762),s=r(61511),n=r(15980),i=r(64914),a=r(44522),c=r(91668),l=r(70946),p=r(46418),d=r(31572),u=r(3722),h=r(88853),f=r(79062);function g(e,t){1&e&&(d.TgZ(0,"div"),d.TgZ(1,"h1"),d._uU(2,"I Am a panel"),d.qZA(),d.qZA())}let y=(()=>{let e=class{constructor(e,t){this.datasource=e,this.overlayPanelFactory=t,this.columns=(0,i.I7)().table({prop:"id",sort:!0,width:"40px",wontBudge:!0},{prop:"name",sort:!0},{prop:"email",minWidth:250,width:"250px"},{prop:"address"},{prop:"rating",type:"starRatings",width:"120px"}).build(),this.ds=(0,i.AV)().onTrigger(()=>this.datasource.getSellers(0,100)).create()}show(){this.overlayPanelFactory.create(this.ngrid).openGridCell("myUniquePanelName","name","header",{hasBackdrop:!0,xPos:"after",yPos:"below"})}};return e.\u0275fac=function(t){return new(t||e)(d.Y36(p.BQ),d.Y36(a.Yp))},e.\u0275cmp=d.Xpm({type:e,selectors:[["pbl-overlay-panel-example"]],viewQuery:function(e,t){if(1&e&&d.Gf(i.eZ,7),2&e){let e;d.iGM(e=d.CRH())&&(t.ngrid=e.first)}},decls:6,vars:3,consts:[["fxLayout","row","fxLayoutGap","16px",2,"padding","8px"],["fxFlex","noshrink","mat-stroked-button","","color","accent",3,"click"],["fxFlex","*"],[1,"pbl-ngrid-cell-ellipsis",3,"dataSource","columns"],[4,"pblNgridOverlayPanelDef"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"button",1),d.NdJ("click",function(){return t.show()}),d._uU(2,"Show Panel"),d.qZA(),d._UZ(3,"div",2),d.qZA(),d.TgZ(4,"pbl-ngrid",3),d.YNc(5,g,3,0,"div",4),d.qZA()),2&e&&(d.xp6(4),d.Q6J("dataSource",t.ds)("columns",t.columns),d.xp6(1),d.Q6J("pblNgridOverlayPanelDef","myUniquePanelName"))},directives:[u.xw,u.SQ,n.lW,u.yH,h.eZ,f.s],styles:[""],encapsulation:2,changeDetection:0}),e=(0,o.gn)([(0,c.en)("pbl-overlay-panel-example",{title:"Overlay Panel"}),(0,o.w6)("design:paramtypes",[p.BQ,a.Yp])],e),e})(),v=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[s.ez,n.ot,l.a,i.dC,a.N1]]}),e=(0,o.gn)([(0,c.qB)(y)],e),e})()},44522:(e,t,r)=>{"use strict";r.d(t,{hZ:()=>s,Yp:()=>h,N1:()=>v,Mr:()=>c});var o=r(64914);class s extends o.id{constructor(e,t,r,o){super(),this.component=t,this.cfr=r,this.injector=o,this.kind="overlayPanels",this.projectContent=!1,this.name=e}getFactory(e){return this.cfr.resolveComponentFactory(this.component)}onCreated(e,t){t.changeDetectorRef.markForCheck(),t.changeDetectorRef.detectChanges()}}var n=r(55959),i=r(31906),a=r(25416);class c{constructor(e,t){this.overlayRef=e,this.data=t,this._closed$=new n.xQ,this.closed=this._closed$.asObservable(),this._closingActions(this,e).pipe((0,a.R)(this.closed)).subscribe(()=>this.close())}close(){if(this._closed$){const e=this._closed$;this._closed$=void 0,e.next(),e.complete(),this.overlayRef.detach(),this.overlayRef.dispose()}}_closingActions(e,t){const r=t.backdropClick(),o=t.detachments();return(0,i.T)(r,o,e.closed)}}var l=r(31572),p=r(2522),d=r(26899);const u={hasBackdrop:!1,xPos:"center",yPos:"center",insetPos:!1};let h=(()=>{class e{constructor(e,t){this._overlay=e,this.zone=t}create(e){return new f(this._overlay,this.zone,e)}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(p.aV),l.LFG(l.R0b))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e})();class f{constructor(e,t,r){this._overlay=e,this.zone=t,this.grid=r;const s=o.q5.find(r);this.injector=s.injector,this.vcRef=s.injector.get(l.s_b),this._scrollStrategy=()=>e.scrollStrategies.reposition()}openGridCell(e,t,r,o,s){const n=this.grid.columnApi.findColumn(t);if(!n)return;let i,a=0;switch(r){case"header":case"footer":i=r;break;default:"number"==typeof r&&(i="table",a=r)}if(!i)return;const c=n&&n.columnDef.queryCellElements(i)[a];return c?this.open(e,new l.SBq(c),o,s):void 0}open(e,t,r,s){r=Object.assign(Object.assign({},u),r||{});const n=this.findNamesExtension(e);if(n)return this.zone.run(()=>{const e=this._createOverlay(t,r),i=new c(e,s);if(this._setPosition(e.getConfig().positionStrategy,r),n instanceof o.Te){const t=this._getTemplatePortal(n.tRef,i),r=e.attach(t);r.markForCheck(),r.detectChanges()}else{const t=this._getComponentPortal(i,n),r=e.attach(t);n.onCreated(null,r)}return e.updatePosition(),i})}_createOverlay(e,t){const r=this._getOverlayConfig(e,t),o=this._overlay.create(r);return o.getConfig().hasBackdrop=!!t.hasBackdrop,o.keydownEvents().subscribe(),o}_getOverlayConfig(e,t){const r=this._overlay.position().flexibleConnectedTo(e).withLockedPosition();return new p.X_({positionStrategy:r,backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this.grid.dir})}_getTemplatePortal(e,t){return new d.UE(e,this.vcRef,{grid:this.grid,ref:t})}_getComponentPortal(e,t){const r=l.zs3.create({providers:[{provide:c,useValue:e}],parent:t.injector||this.injector});return new d.C5(t.component,this.vcRef,r,t.cfr||null)}_setPosition(e,t){let[r,o]="center"===t.xPos?["center","center"]:"before"===t.xPos?["end","start"]:["start","end"],[s,n]="center"===t.yPos?["center","center"]:"above"===t.yPos?["bottom","top"]:["top","bottom"],[i,a]=[s,n],[c,l]=[r,o];t.insetPos||("center"!==s&&(i="top"===s?"bottom":"top"),"center"!==n&&(a="top"===n?"bottom":"top")),e.withPositions([{originX:r,originY:i,overlayX:c,overlayY:s,offsetY:0},{originX:o,originY:i,overlayX:l,overlayY:s,offsetY:0},{originX:r,originY:a,overlayX:c,overlayY:n,offsetY:-0},{originX:o,originY:a,overlayX:l,overlayY:n,offsetY:-0}])}findNamesExtension(e){let t;return this.grid.registry.forMulti("overlayPanels",r=>{for(const o of r)if(o.name===e)return t=o,!0}),t}}r(79062);var g=r(61511),y=r(22526);let v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({providers:[h],imports:[[g.ez,p.U8,y.vT]]}),e})()},79062:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});var o=r(64914),s=r(31572);let n=(()=>{class e extends o.Te{constructor(e,t){super(e,t),this.kind="overlayPanels"}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc),s.Y36(o.B6))},e.\u0275dir=s.lG2({type:e,selectors:[["","pblNgridOverlayPanelDef",""]],inputs:{name:["pblNgridOverlayPanelDef","name"]},features:[s.qOj]}),e})()}}]);