(self.webpackChunkpebula=self.webpackChunkpebula||[]).push([[8962],{58962:(e,t,s)=>{"use strict";s.r(t),s.d(t,{SelectionColumnExampleModule:()=>v});var l=s(64762),i=s(61511),n=s(64914),c=s(7997),o=s(31572),a=s(65127),h=s(55992),d=s(81277);function r(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"label"),o.TgZ(1,"input",4),o.NdJ("input",function(){return o.CHM(e),o.oxw(2).masterToggle()}),o.qZA(),o.qZA()}if(2&e){const e=o.oxw(2);o.Tol(e.selectionClass),o.xp6(1),o.Q6J("checked",e.allSelected)}}function u(e,t){if(1&e&&(o.ynx(0),o.YNc(1,r,2,3,"label",3),o.BQk()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf","none"!==e.bulkSelectMode)}}function p(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"label"),o.TgZ(1,"input",5),o.NdJ("input",function(){const t=o.CHM(e).row;return o.oxw().rowItemChange(t)}),o.qZA(),o.qZA()}if(2&e){const e=t.row,s=o.oxw();o.xp6(1),o.Tol(s.selectionClass),o.Q6J("checked",s.selection.isSelected(e))("disabled",s.isCheckboxDisabled(e))}}function b(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Oqu(e.length?e.length:"")}}const g=()=>!1;let k=(()=>{class e{constructor(e,t){this.table=e,this.cdr=t,this.allSelected=!1,this._isCheckboxDisabled=g,n.q5.find(e).events.pipe((0,c.dW)(this)).subscribe(e=>{"onDataSource"===e.kind&&(this.selection=e.curr.selection)})}get bulkSelectMode(){return this._bulkSelectMode}set bulkSelectMode(e){e!==this._bulkSelectMode&&(this._bulkSelectMode=e,this.setupSelection())}get selection(){return this._selection}set selection(e){e!==this._selection&&(this._selection=e,this.setupSelection())}get isCheckboxDisabled(){return this._isCheckboxDisabled}set isCheckboxDisabled(e){e!==this._isCheckboxDisabled&&(this._isCheckboxDisabled=e,this._isCheckboxDisabled&&"function"==typeof this._isCheckboxDisabled||(this._isCheckboxDisabled=g))}get selectionClass(){return this._selectionClass}set selectionClass(e){e!==this._selectionClass&&(this._selectionClass=e,this.table.isInit&&this.markAndDetect())}ngAfterViewInit(){!this.selection&&this.table.ds&&(this.selection=this.table.ds.selection);const e=this.table.registry;e.addMulti("headerCell",this.headerDef),e.addMulti("tableCell",this.cellDef),e.addMulti("footerCell",this.footerDef)}ngOnDestroy(){c.dW.kill(this)}masterToggle(){if(this.allSelected)this.selection.clear();else{const e=this.getCollection().filter(e=>!this._isCheckboxDisabled(e));this.selection.select(...e)}}rowItemChange(e){this.selection.toggle(e),this.markAndDetect()}onInput(e,t){console.log(e,t)}getCollection(){const{ds:e}=this.table;return"view"===this.bulkSelectMode?e.renderedData:e.source}setupSelection(){c.dW.kill(this,this.table),this._selection?(this.length=this.selection.selected.length,this.selection.changed.pipe((0,c.dW)(this,this.table)).subscribe(()=>this.handleSelectionChanged()),("view"===this.bulkSelectMode?this.table.ds.onRenderedDataChanged:this.table.ds.onSourceChanged).pipe((0,c.dW)(this,this.table)).subscribe(()=>this.handleSelectionChanged())):this.length=0}handleSelectionChanged(){const{length:e}=this.getCollection().filter(e=>!this._isCheckboxDisabled(e));this.allSelected=!this.selection.isEmpty()&&this.selection.selected.length===e,this.length=this.selection.selected.length,this.markAndDetect()}markAndDetect(){this.cdr.markForCheck(),this.cdr.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(n.eZ),o.Y36(o.sBO))},e.\u0275cmp=o.Xpm({type:e,selectors:[["pbl-ngrid-bs-checkbox"]],viewQuery:function(e,t){if(1&e&&(o.Gf(n.dl,7),o.Gf(n.Ie,7),o.Gf(n.Tl,7)),2&e){let e;o.iGM(e=o.CRH())&&(t.headerDef=e.first),o.iGM(e=o.CRH())&&(t.cellDef=e.first),o.iGM(e=o.CRH())&&(t.footerDef=e.first)}},inputs:{name:"name",bulkSelectMode:"bulkSelectMode",selection:"selection",isCheckboxDisabled:"isCheckboxDisabled",selectionClass:"selectionClass"},decls:3,vars:3,consts:[[4,"pblNgridHeaderCellDef"],[4,"pblNgridCellDef"],[4,"pblNgridFooterCellDef"],[3,"class",4,"ngIf"],["type","checkbox",3,"checked","input"],["type","checkbox",3,"checked","disabled","input"]],template:function(e,t){1&e&&(o.YNc(0,u,2,1,"ng-container",0),o.YNc(1,p,2,4,"label",1),o.YNc(2,b,2,1,"span",2)),2&e&&(o.Q6J("pblNgridHeaderCellDef",t.name),o.xp6(1),o.Q6J("pblNgridCellDef",t.name),o.xp6(1),o.Q6J("pblNgridFooterCellDef",t.name))},directives:[a.d,h.I,d.T,i.O5],styles:[""],encapsulation:2,changeDetection:0}),e})();const m="bsSelectionColumn";let f=(()=>{class e{constructor(e,t,s,l){this.table=e,this.cfr=t,this.injector=s,this._selectionClass="",this._removePlugin=l.setPlugin(m,this)}get isCheckboxDisabled(){return this._isCheckboxDisabled}set isCheckboxDisabled(e){e!==this._isCheckboxDisabled&&(this._isCheckboxDisabled=e,this.cmpRef&&e&&(this.cmpRef.instance.isCheckboxDisabled=e,this.cmpRef.changeDetectorRef.detectChanges()))}get bsSelectionColumn(){return this._name}set bsSelectionColumn(e){e!==this._name&&(this._name=e,e?(this.cmpRef||(this.cmpRef=this.cfr.resolveComponentFactory(k).create(this.injector),this.cmpRef.instance.table=this.table,this._bulkSelectMode&&(this.cmpRef.instance.bulkSelectMode=this._bulkSelectMode),this.cmpRef.instance.selectionClass=this._selectionClass),this.isCheckboxDisabled&&(this.cmpRef.instance.isCheckboxDisabled=this.isCheckboxDisabled),this.cmpRef.instance.name=e,this.cmpRef.changeDetectorRef.detectChanges()):this.cmpRef&&(this.cmpRef.destroy(),this.cmpRef=void 0))}get bulkSelectMode(){return this._bulkSelectMode}set bulkSelectMode(e){e!==this._bulkSelectMode&&(this._bulkSelectMode=e,this.cmpRef&&(this.cmpRef.instance.bulkSelectMode=e))}get bsSelectionClass(){return this._selectionClass}set matCheckboxSelectionColor(e){e!==this._selectionClass&&(this._selectionClass=e,this.cmpRef&&(this.cmpRef.instance.selectionClass=e))}ngOnDestroy(){this.cmpRef&&this.cmpRef.destroy(),this._removePlugin(this.table)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(n.eZ),o.Y36(o._Vd),o.Y36(o.zs3),o.Y36(n.q5))},e.\u0275dir=o.lG2({type:e,selectors:[["pbl-ngrid","bsSelectionColumn",""]],inputs:{isCheckboxDisabled:"isCheckboxDisabled",bsSelectionColumn:"bsSelectionColumn",bulkSelectMode:"bulkSelectMode",bsSelectionClass:"bsSelectionClass"}}),e})();var C=s(29236);let S=(()=>{class e{}return e.NGRID_PLUGIN=(0,n.Ic)({id:m},f),e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[i.ez,C.p9,n.dC]]}),e})();var x=s(91668),D=s(70946),M=s(5553),_=s(46418),w=s(88853);let Z=(()=>{let e=class{constructor(e){this.datasource=e,this.columns=(0,n.I7)().default({minWidth:100}).table({prop:"selection",width:"48px"},{prop:"id",sort:!0,width:"40px"},{prop:"name",sort:!0},{prop:"gender",width:"50px"},{prop:"birthdate",type:"date"},{prop:"bio"},{prop:"email",minWidth:250,width:"250px"},{prop:"language",headerType:"language"}).build(),this.ds=(0,n.AV)().onTrigger(()=>this.datasource.getPeople(0,15)).create()}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(_.BQ))},e.\u0275cmp=o.Xpm({type:e,selectors:[["pbl-bs-selection-column-example"]],decls:1,vars:2,consts:[["bsSelectionColumn","selection",1,"pbl-ngrid-cell-ellipsis",3,"dataSource","columns"]],template:function(e,t){1&e&&o._UZ(0,"pbl-ngrid",0),2&e&&o.Q6J("dataSource",t.ds)("columns",t.columns)},directives:[w.eZ,f],styles:[""],encapsulation:2,changeDetection:0}),e=(0,l.gn)([(0,x.en)("pbl-bs-selection-column-example",{title:"Selection Column"}),(0,l.w6)("design:paramtypes",[_.BQ])],e),e})();var y=s(3722);let A=(()=>{let e=class{constructor(e){this.datasource=e,this.columns=(0,n.I7)().default({minWidth:100}).table({prop:"selection",width:"48px"},{prop:"id",sort:!0,width:"40px"},{prop:"name",sort:!0},{prop:"gender",width:"50px"},{prop:"birthdate",type:"date"},{prop:"bio"},{prop:"email",minWidth:250,width:"250px"},{prop:"language",headerType:"language"}).build(),this.ds=(0,n.AV)().onTrigger(()=>this.datasource.getPeople(0,500)).create(),this.bulkSelectMode="all"}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(_.BQ))},e.\u0275cmp=o.Xpm({type:e,selectors:[["pbl-bs-bulk-mode-and-virtual-scroll-example"]],decls:17,vars:12,consts:[["bsSelectionColumn","selection","showFooter","",1,"pbl-ngrid-cell-ellipsis",3,"bulkSelectMode","dataSource","columns"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","16px",2,"margin","8px 16px"],[1,"btn-group","btn-group-toggle"],[1,"btn","btn-primary"],["type","radio",3,"checked","input"],["inputAll",""],["inputView",""],["inputNone",""]],template:function(e,t){if(1&e){const e=o.EpF();o._UZ(0,"pbl-ngrid",0),o.TgZ(1,"div",1),o.TgZ(2,"h3"),o._uU(3,"Bulk Mode: "),o.qZA(),o.TgZ(4,"div",2),o.TgZ(5,"label",3),o.TgZ(6,"input",4,5),o.NdJ("input",function(){return o.CHM(e),o.MAs(7).checked?t.bulkSelectMode="all":null}),o.qZA(),o._uU(8," All "),o.qZA(),o.TgZ(9,"label",3),o.TgZ(10,"input",4,6),o.NdJ("input",function(){return o.CHM(e),o.MAs(11).checked?t.bulkSelectMode="view":null}),o.qZA(),o._uU(12," View "),o.qZA(),o.TgZ(13,"label",3),o.TgZ(14,"input",4,7),o.NdJ("input",function(){return o.CHM(e),o.MAs(15).checked?t.bulkSelectMode="none":null}),o.qZA(),o._uU(16," None "),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.Q6J("bulkSelectMode",t.bulkSelectMode)("dataSource",t.ds)("columns",t.columns),o.xp6(5),o.ekj("active","all"===t.bulkSelectMode),o.xp6(1),o.Q6J("checked","all"===t.bulkSelectMode),o.xp6(3),o.ekj("active","view"===t.bulkSelectMode),o.xp6(1),o.Q6J("checked","view"===t.bulkSelectMode),o.xp6(3),o.ekj("active","none"===t.bulkSelectMode),o.xp6(1),o.Q6J("checked","none"===t.bulkSelectMode))},directives:[w.eZ,f,y.xw,y.Wh,y.SQ],styles:[""],encapsulation:2,changeDetection:0}),e=(0,l.gn)([(0,x.en)("pbl-bs-bulk-mode-and-virtual-scroll-example",{title:"Bulk Mode & Virtual Scroll"}),(0,l.w6)("design:paramtypes",[_.BQ])],e),e})(),v=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[M.y,i.ez,D.a,n.dC,S]]}),e=(0,l.gn)([(0,x.qB)(Z,A)],e),e})()}}]);