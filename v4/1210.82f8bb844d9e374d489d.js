(self.webpackChunkpebula=self.webpackChunkpebula||[]).push([[1210],{70946:(t,e,i)=>{"use strict";i.d(e,{a:()=>a});var r=i(3722),s=i(20377),n=i(91668),o=i(31572);let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[r.ae,s.aT,n.RF],r.ae,s.aT,n.RF]}),t})()},41210:(t,e,i)=>{"use strict";i.r(e),i.d(e,{PaginationExampleModule:()=>S});var r=i(64762),s=i(61511),n=i(15980),o=i(64914),a=i(89393),c=i(10192),l=i(91668),p=i(70946),d=i(46418),g=i(31572),u=i(88853),b=i(31486),h=i(90814),m=i(39732),k=i(10205);function f(t,e){if(1&t&&g._UZ(0,"pbl-ngrid-paginator",2),2&t){const t=e.$implicit;g.Q6J("grid",t)("paginator",t.ds.paginator)}}let U=(()=>{let t=class{constructor(t){this.datasource=t,this.columns=(0,o.I7)().default({minWidth:100}).table({prop:"id",sort:!0,width:"40px"},{prop:"name",sort:!0},{prop:"gender",width:"50px"},{prop:"birthdate",type:"date"}).build(),this.ds=(0,o.AV)().onTrigger(()=>this.datasource.getPeople(1e3,5e3)).create()}};return t.\u0275fac=function(e){return new(e||t)(g.Y36(d.BQ))},t.\u0275cmp=g.Xpm({type:t,selectors:[["pbl-pagination-example"]],decls:2,vars:2,consts:[["usePagination","","blockUi","","vScrollNone","",3,"dataSource","columns"],[3,"grid","paginator",4,"pblNgridPaginatorRef"],[3,"grid","paginator"]],template:function(t,e){1&t&&(g.TgZ(0,"pbl-ngrid",0),g.YNc(1,f,1,2,"pbl-ngrid-paginator",1),g.qZA()),2&t&&g.Q6J("dataSource",e.ds)("columns",e.columns)},directives:[u.eZ,b.C,h.U,m.Y,k.Z],styles:[""],encapsulation:2,changeDetection:0}),t=(0,r.gn)([(0,l.en)("pbl-pagination-example",{title:"Client Side Pagination"}),(0,r.w6)("design:paramtypes",[d.BQ])],t),t})();var y=i(19764),_=i(79996);function P(t,e){if(1&t&&g._UZ(0,"pbl-ngrid-paginator",2),2&t){const t=e.$implicit;g.Q6J("grid",t)("paginator",t.ds.paginator)}}let w=(()=>{let t=class{constructor(t){this.datasource=t,this.columns=(0,o.I7)().default({minWidth:100}).table({prop:"id",sort:!0,width:"40px"},{prop:"name",sort:!0},{prop:"gender",width:"50px"},{prop:"birthdate",type:"date"}).build(),this.ds=(0,o.AV)().onTrigger(t=>{const{page:e,perPage:i}=this.ds.paginator;return function(t,e,i){return(0,y.D)(t.getPeople(500,5e3)).pipe((0,_.U)(t=>{const r=(e-1)*i,s=Math.min(t.length,r+i);return{total:t.length,data:t.slice(r,s)}}))}(this.datasource,e,i).pipe((0,_.U)(e=>(t.updateTotalLength(e.total),e.data)))}).setCustomTriggers("pagination").create()}};return t.\u0275fac=function(e){return new(e||t)(g.Y36(d.BQ))},t.\u0275cmp=g.Xpm({type:t,selectors:[["pbl-async-page-number-example"]],decls:2,vars:2,consts:[["usePagination","","blockUi","",3,"dataSource","columns"],[3,"grid","paginator",4,"pblNgridPaginatorRef"],[3,"grid","paginator"]],template:function(t,e){1&t&&(g.TgZ(0,"pbl-ngrid",0),g.YNc(1,P,1,2,"pbl-ngrid-paginator",1),g.qZA()),2&t&&g.Q6J("dataSource",e.ds)("columns",e.columns)},directives:[u.eZ,b.C,m.Y,k.Z],styles:[""],encapsulation:2,changeDetection:0}),t=(0,r.gn)([(0,l.en)("pbl-async-page-number-example",{title:"Async: Page Number"}),(0,r.w6)("design:paramtypes",[d.BQ])],t),t})();function v(t,e){if(1&t&&g._UZ(0,"pbl-ngrid-paginator",2),2&t){const t=e.$implicit;g.Q6J("grid",t)("paginator",t.ds.paginator)}}function B(t,e,i){return(0,y.D)(t.getPeople(500,5e3)).pipe((0,_.U)(t=>{const r=(e-1)*i,s=Math.min(t.length,r+i);return{total:t.length,data:t.slice(r,s)}}))}let C=(()=>{let t=class{constructor(t){this.datasource=t,this.columns=(0,o.I7)().default({minWidth:100}).table({prop:"id",sort:!0,width:"40px"},{prop:"name",sort:!0},{prop:"gender",width:"50px"},{prop:"birthdate",type:"date"}).build(),this.ds=(0,o.AV)().onTrigger(t=>{const{pagination:e}=t;let i;e.page.changed&&(i=e.page.curr),i||this.ds.paginator.reset();const{perPage:r}=this.ds.paginator;return function(t,e){const i=(t,e)=>btoa(JSON.stringify({page:t,perPage:e}));if("string"==typeof e){const r=JSON.parse(atob(e)),{page:s,perPage:n}=r;return B(t,s,n).pipe((0,_.U)(t=>({token:i(s+1,n),data:t.data})))}{const r=i(2,e);return B(t,1,e).pipe((0,_.U)(t=>({token:r,data:t.data})))}}(this.datasource,i||r).pipe((0,_.U)(e=>(e.token&&this.ds.paginator.addNext(e.token),t.updateTotalLength(e.data.length),e.data)))}).setCustomTriggers("pagination").create()}};return t.\u0275fac=function(e){return new(e||t)(g.Y36(d.BQ))},t.\u0275cmp=g.Xpm({type:t,selectors:[["pbl-async-token-example"]],decls:2,vars:2,consts:[["usePagination","token","blockUi","",3,"dataSource","columns"],[3,"grid","paginator",4,"pblNgridPaginatorRef"],[3,"grid","paginator"]],template:function(t,e){1&t&&(g.TgZ(0,"pbl-ngrid",0),g.YNc(1,v,1,2,"pbl-ngrid-paginator",1),g.qZA()),2&t&&g.Q6J("dataSource",e.ds)("columns",e.columns)},directives:[u.eZ,b.C,m.Y,k.Z],styles:[""],encapsulation:2,changeDetection:0}),t=(0,r.gn)([(0,l.en)("pbl-async-token-example",{title:"Async: Token"}),(0,r.w6)("design:paramtypes",[d.BQ])],t),t})(),S=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[s.ez,n.ot,p.a,o.dC,a.sj,c.J]]}),t=(0,r.gn)([(0,l.qB)(U,w,C)],t),t})()},89393:(t,e,i)=>{"use strict";i.d(e,{sj:()=>c}),i(90366);var r=i(31486),s=i(61511),n=i(20531),o=i(64914),a=i(31572);let c=(()=>{class t{}return t.NGRID_PLUGIN=(0,o.Ic)({id:r.d},r.C),t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[s.ez,n.HT,o.dC]]}),t})()},31486:(t,e,i)=>{"use strict";i.d(e,{d:()=>c,C:()=>l});var r=i(4710),s=i(19861),n=i(7997),o=i(64914),a=i(31572);const c="blockUi";let l=(()=>{class t{constructor(t,e){this.grid=t,this._blockInProgress=!1,this._removePlugin=e.setPlugin(c,this),t.registry.changes.subscribe(t=>{for(const e of t)switch(e.type){case"blocker":this.setupBlocker()}}),e.onInit().subscribe(t=>{t&&this._blockUi&&"boolean"==typeof this._blockUi&&this.setupBlocker()}),e.events.subscribe(t=>{if("onDataSource"===t.kind){const{prev:e,curr:i}=t;e&&n.dW.kill(this,e),i.onSourceChanging.pipe((0,n.dW)(this,i)).subscribe(()=>{"auto"===this._blockUi&&(this._blockInProgress=!0,this.setupBlocker())}),i.onSourceChanged.pipe((0,n.dW)(this,i)).subscribe(()=>{"auto"===this._blockUi&&(this._blockInProgress=!1,this.setupBlocker())})}})}get blockUi(){return this._blockUi}set blockUi(t){let e=(0,s.Ig)(t);!e||"auto"!==t&&""!==t||(e="auto"),(0,r.b)(t)&&this._blockUi!==t?((0,r.b)(this._blockUi)&&n.dW.kill(this,this._blockUi),this._blockUi=t,t.pipe((0,n.dW)(this,this._blockUi)).subscribe(t=>{this._blockInProgress=t,this.setupBlocker()})):this._blockUi!==e&&(this._blockUi=e,"auto"!==e&&(this._blockInProgress=e,this.setupBlocker()))}ngOnDestroy(){n.dW.kill(this),this._removePlugin(this.grid)}setupBlocker(){if(this.grid.isInit)if(this._blockInProgress){if(!this._blockerEmbeddedVRef){const t=this.grid.registry.getSingle("blocker");t&&(this._blockerEmbeddedVRef=this.grid.createView("afterContent",t.tRef,{$implicit:this.grid}),this._blockerEmbeddedVRef.detectChanges())}}else this._blockerEmbeddedVRef&&(this.grid.removeView(this._blockerEmbeddedVRef,"afterContent"),this._blockerEmbeddedVRef=void 0)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(o.eZ),a.Y36(o.q5))},t.\u0275dir=a.lG2({type:t,selectors:[["pbl-ngrid","blockUi",""]],inputs:{blockUi:"blockUi"},exportAs:["blockUi"]}),t})()},90366:(t,e,i)=>{"use strict";i.d(e,{r:()=>n});var r=i(64914),s=i(31572);let n=(()=>{class t extends r.iT{constructor(t,e){super(t,e),this.kind="blocker"}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.Rgc),s.Y36(r.B6))},t.\u0275dir=s.lG2({type:t,selectors:[["","pblNgridBlockUiDef",""]],features:[s.qOj]}),t})()}}]);