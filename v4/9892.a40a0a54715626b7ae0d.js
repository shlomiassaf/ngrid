(self.webpackChunkpebula=self.webpackChunkpebula||[]).push([[9892],{70946:(e,t,i)=>{"use strict";i.d(t,{a:()=>c});var s=i(3722),o=i(20377),r=i(91668),n=i(31572);let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[s.ae,o.aT,r.RF],s.ae,o.aT,r.RF]}),e})()},29892:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CopySelectionExampleModule:()=>I});var s=i(64762),o=i(64914),r=i(89393),n=i(43835),c=i(61511),l=i(31572);class a{constructor(e,t){this._document=t;const i=this._textarea=this._document.createElement("textarea"),s=i.style;s.position="fixed",s.top=s.opacity="0",s.left="-999em",i.setAttribute("aria-hidden","true"),i.value=e,this._document.body.appendChild(i)}copy(){const e=this._textarea;let t=!1;try{if(e){const i=this._document.activeElement;e.select(),e.setSelectionRange(0,e.value.length),t=this._document.execCommand("copy"),i&&i.focus()}}catch(i){}return t}destroy(){const e=this._textarea;e&&(e.parentNode&&e.parentNode.removeChild(e),this._textarea=void 0)}}let d=(()=>{class e{constructor(e){this._document=e}copy(e){const t=this.beginCopy(e),i=t.copy();return t.destroy(),i}beginCopy(e){return new a(e,this._document)}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(c.K0))},e.\u0275prov=l.Yz7({factory:function(){return new e(l.LFG(c.K0))},token:e,providedIn:"root"}),e})();var u=i(7997);const p=/^mac/.test(navigator.platform.toLowerCase()),h="clipboard";let b=(()=>{class e{constructor(e,t,i){this.grid=e,this.injector=t,this.pluginCtrl=i,this.config=t.get(o.f8),this.clipboard=t.get(d),this.init()}static create(t,i){const s=o.q5.find(t);return new e(t,i,s)}ngOnDestroy(){u.dW.kill(this),this._removePlugin(this.grid)}isCopyEvent(e){return!!(e instanceof KeyboardEvent&&"c"===e.key&&(!p&&e.ctrlKey||p&&e.metaKey))}doCopy(){const{cellSeparator:e,rowSeparator:t}=this.config.get("clipboard",{}),{rows:i,minIndex:s}=this.getSelectedRowData(this.grid);this.clipboard.copy(i.map(t=>t.slice(s).join(this.clpCellSep||e||"\t")).join(this.clpRowSep||t||"\n"))}getSelectedRowData(e){const{columnApi:t,contextApi:i}=e,s=new Map;let o=Number.MAX_SAFE_INTEGER;for(const n of i.selectedCells){const r=t.columns[n.colIndex];if(r){const c=t.renderIndexOf(r);if(c>-1){const t=i.findRowInCache(n.rowIdent).dsIndex,l=r.getValue(e.ds.source[t]),a=s.get(n.rowIdent)||[];a[c]=l,s.set(n.rowIdent,a),o=Math.min(o,c)}}}const r=Array.from(s.entries());return r.sort((e,t)=>i.findRowInCache(e[0]).dsIndex<i.findRowInCache(t[0]).dsIndex?-1:1),{minIndex:o,rows:r.map(e=>e[1])}}init(){this._removePlugin=this.pluginCtrl.setPlugin(h,this),this.pluginCtrl.ensurePlugin("targetEvents"),this.pluginCtrl.getPlugin("targetEvents").keyDown.pipe((0,n.h)(e=>this.isCopyEvent(e.source)),(0,u.dW)(this)).subscribe(e=>this.doCopy())}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(o.eZ),l.Y36(l.zs3),l.Y36(o.q5))},e.\u0275dir=l.lG2({type:e,selectors:[["pbl-ngrid","clipboard",""]],inputs:{clpCellSep:"clpCellSep",clpRowSep:"clpRowSep"},exportAs:["pblNgridClipboard"]}),e})();var g=i(39030);let f=(()=>{class e{constructor(t){o.q5.onCreatedSafe(e,(e,i)=>{!0===t.get(h,{}).autoEnable&&i.onInit().subscribe(()=>{i.hasPlugin(h)||i.createPlugin(h)})})}}return e.NGRID_PLUGIN=(0,o.Ic)({id:h,factory:"create"},b),e.\u0275fac=function(t){return new(t||e)(l.LFG(o.f8))},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[c.ez,o.dC,g.sx]]}),e})();var m=i(91668),k=i(70946),y=i(46418),_=i(88853),C=i(93638);let w=(()=>{let e=class{constructor(e){this.datasource=e,this.columns=(0,o.I7)().table({prop:"id",sort:!0,width:"40px"},{prop:"name",sort:!0},{prop:"gender",width:"50px"},{prop:"birthdate",type:"date"},{prop:"bio"},{prop:"email",minWidth:250,width:"250px"},{prop:"language",headerType:"language"}).build(),this.ds=(0,o.AV)().onTrigger(()=>this.datasource.getPeople(100,500)).create(),this.hideColumns=["bio"]}};return e.\u0275fac=function(t){return new(t||e)(l.Y36(y.BQ))},e.\u0275cmp=l.Xpm({type:e,selectors:[["pbl-copy-selection-example"]],decls:1,vars:3,consts:[["clipboard","","focusMode","cell",3,"dataSource","columns","hideColumns"]],template:function(e,t){1&e&&l._UZ(0,"pbl-ngrid",0),2&e&&l.Q6J("dataSource",t.ds)("columns",t.columns)("hideColumns",t.hideColumns)},directives:[_.eZ,b,C.$],styles:[""],encapsulation:2,changeDetection:0}),e=(0,s.gn)([(0,m.en)("pbl-copy-selection-example",{title:"Copy Selection"}),(0,s.w6)("design:paramtypes",[y.BQ])],e),e})(),I=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[k.a,o.dC,r.sj,f]]}),e=(0,s.gn)([(0,m.qB)(w)],e),e})()},89393:(e,t,i)=>{"use strict";i.d(t,{sj:()=>l}),i(90366);var s=i(31486),o=i(61511),r=i(20531),n=i(64914),c=i(31572);let l=(()=>{class e{}return e.NGRID_PLUGIN=(0,n.Ic)({id:s.d},s.C),e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[o.ez,r.HT,n.dC]]}),e})()},31486:(e,t,i)=>{"use strict";i.d(t,{d:()=>l,C:()=>a});var s=i(4710),o=i(19861),r=i(7997),n=i(64914),c=i(31572);const l="blockUi";let a=(()=>{class e{constructor(e,t){this.grid=e,this._blockInProgress=!1,this._removePlugin=t.setPlugin(l,this),e.registry.changes.subscribe(e=>{for(const t of e)switch(t.type){case"blocker":this.setupBlocker()}}),t.onInit().subscribe(e=>{e&&this._blockUi&&"boolean"==typeof this._blockUi&&this.setupBlocker()}),t.events.subscribe(e=>{if("onDataSource"===e.kind){const{prev:t,curr:i}=e;t&&r.dW.kill(this,t),i.onSourceChanging.pipe((0,r.dW)(this,i)).subscribe(()=>{"auto"===this._blockUi&&(this._blockInProgress=!0,this.setupBlocker())}),i.onSourceChanged.pipe((0,r.dW)(this,i)).subscribe(()=>{"auto"===this._blockUi&&(this._blockInProgress=!1,this.setupBlocker())})}})}get blockUi(){return this._blockUi}set blockUi(e){let t=(0,o.Ig)(e);!t||"auto"!==e&&""!==e||(t="auto"),(0,s.b)(e)&&this._blockUi!==e?((0,s.b)(this._blockUi)&&r.dW.kill(this,this._blockUi),this._blockUi=e,e.pipe((0,r.dW)(this,this._blockUi)).subscribe(e=>{this._blockInProgress=e,this.setupBlocker()})):this._blockUi!==t&&(this._blockUi=t,"auto"!==t&&(this._blockInProgress=t,this.setupBlocker()))}ngOnDestroy(){r.dW.kill(this),this._removePlugin(this.grid)}setupBlocker(){if(this.grid.isInit)if(this._blockInProgress){if(!this._blockerEmbeddedVRef){const e=this.grid.registry.getSingle("blocker");e&&(this._blockerEmbeddedVRef=this.grid.createView("afterContent",e.tRef,{$implicit:this.grid}),this._blockerEmbeddedVRef.detectChanges())}}else this._blockerEmbeddedVRef&&(this.grid.removeView(this._blockerEmbeddedVRef,"afterContent"),this._blockerEmbeddedVRef=void 0)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(n.eZ),c.Y36(n.q5))},e.\u0275dir=c.lG2({type:e,selectors:[["pbl-ngrid","blockUi",""]],inputs:{blockUi:"blockUi"},exportAs:["blockUi"]}),e})()},90366:(e,t,i)=>{"use strict";i.d(t,{r:()=>r});var s=i(64914),o=i(31572);let r=(()=>{class e extends s.iT{constructor(e,t){super(e,t),this.kind="blocker"}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.Rgc),o.Y36(s.B6))},e.\u0275dir=o.lG2({type:e,selectors:[["","pblNgridBlockUiDef",""]],features:[o.qOj]}),e})()}}]);