"use strict";(self.webpackChunkngrid_docs_app=self.webpackChunkngrid_docs_app||[]).push([[1296],{1296:(C,b,l)=>{l.d(b,{P:()=>o});var h=l(92393),f=l(36895),p=l(97392),y=l(4859),v=l(28255),u=l(59549),g=l(44144),P=l(3805),M=l(14625),x=l(67108),e=l(94650);const E=["mat-header-context-menu-trigger",""],A={hasBackdrop:!0,xPos:"after",yPos:"below"};let k=(()=>{class i{constructor(t,n){this.plugin=t,this.elRef=n}openOverlayPanel(){this.plugin.overlayPanel.open(this.plugin.style,this.elRef,this.plugin.config||A,this.context)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.Z),e.Y36(e.SBq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["div","mat-header-context-menu-trigger",""]],hostAttrs:[1,"mat-header-context-menu-trigger"],hostBindings:function(t,n){1&t&&e.NdJ("click",function(){return n.openOverlayPanel()})},attrs:E,decls:2,vars:0,consts:[[2,"height","16px","width","16px","font-size","16px","line-height","16px"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-icon",0),e._uU(1,"more_vert"),e.qZA())},dependencies:[p.Hw],styles:["div.mat-header-context-menu-trigger{position:absolute;display:flex;align-items:center;right:0;height:100%;cursor:pointer;margin-right:12px;z-index:100}[dir=rtl] div.mat-header-context-menu-trigger{right:unset;left:0;margin-right:unset;margin-left:12px}\n"],encapsulation:2}),i})();class Z extends M.id{constructor(s){super(),this.cfr=s,this.name="matHeaderContextMenuTrigger",this.kind="dataHeaderExtensions",this.projectContent=!1}shouldRender(s){return!!s.injector.get(h.Z,!1)}getFactory(s){return this.cfr.resolveComponentFactory(k)}onCreated(s,t){t.instance.context=s,t.changeDetectorRef.markForCheck()}}const F=["columnMenu"],m=["menuViewLocation"];function a(i,s){if(1&i&&(e.TgZ(0,"button",3)(1,"mat-icon"),e._uU(2,"sort"),e.qZA(),e._uU(3,"Sort "),e.qZA()),2&i){e.oxw();const t=e.MAs(16);e.Q6J("matMenuTriggerFor",t)}}let r=(()=>{class i{constructor(t){this.ref=t,this.currentFilter="",this.column=t.data.col,this.grid=t.data.grid,this.grid.ds.sort.column===this.column&&(this.currentSort=this.grid.ds.sort.sort.order),this.currentPin=this.column.columnDef.sticky?"start":this.column.columnDef.stickyEnd?"end":void 0;const n=this.grid.ds.filter;n&&"value"===n.type&&n.columns&&n.columns.indexOf(this.column)>=0&&(this.currentFilter=n.filter)}ngAfterViewInit(){this.matMenu.closed.subscribe(n=>{this.ref.close()});const t=this.menuViewLocation.createEmbeddedView(this.matMenu.templateRef);this.matMenu.setElevation(0),this.matMenu.focusFirstItem("program"),this.matMenu._resetAnimation(),t.markForCheck(),t.detectChanges(),this.matMenu._startAnimation()}hide(){this.grid.columnApi.hideColumns(this.column.id)}onSortToggle(t){this.currentSort===t?this.grid.ds.setSort():this.grid.ds.setSort(this.column,{order:t})}onPinToggle(t){this.currentPin===t?this.column.columnDef.updatePin():this.column.columnDef.updatePin(t)}filterColumn(t){this.currentFilter=t,t?this.grid.setFilter(t.trim(),[this.column]):this.grid.setFilter()}clickTrap(t){t.preventDefault(),t.stopPropagation()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.Mr))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-excel-style-header-menu"]],viewQuery:function(t,n){if(1&t&&(e.Gf(F,7,v.VK),e.Gf(m,7,e.s_b)),2&t){let c;e.iGM(c=e.CRH())&&(n.matMenu=c.first),e.iGM(c=e.CRH())&&(n.menuViewLocation=c.first)}},decls:48,vars:15,consts:[[1,"pbl-mat-menu-panel"],["columnMenu","matMenu"],["mat-menu-item","",3,"matMenuTriggerFor",4,"ngIf"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["sortMenu","matMenu"],[3,"color"],["pinMenu","matMenu"],[1,"mat-menu-item","pbl-mat-menu-row",3,"click"],["matInput","",3,"value","keyup"],["input",""],["matPrefix",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["menuViewLocation",""]],template:function(t,n){if(1&t){const c=e.EpF();e.TgZ(0,"mat-menu",0,1),e.YNc(2,a,4,1,"button",2),e.TgZ(3,"button",3)(4,"mat-icon"),e._uU(5,"place"),e.qZA(),e._uU(6,"Pin "),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return n.grid.columnApi.autoSizeColumn(n.column)}),e.TgZ(8,"mat-icon"),e._uU(9,"keyboard_tab"),e.qZA(),e._uU(10,"Auto Fit "),e.qZA(),e.TgZ(11,"button",4),e.NdJ("click",function(){return n.hide()}),e.TgZ(12,"mat-icon"),e._uU(13,"visibility_off"),e.qZA(),e._uU(14,"Hide Column "),e.qZA(),e.TgZ(15,"mat-menu",null,5)(17,"button",4),e.NdJ("click",function(){return n.onSortToggle("asc")}),e.TgZ(18,"mat-icon",6),e._uU(19,"arrow_upward"),e.qZA(),e.TgZ(20,"span"),e._uU(21,"Ascending"),e.qZA()(),e.TgZ(22,"button",4),e.NdJ("click",function(){return n.onSortToggle("desc")}),e.TgZ(23,"mat-icon",6),e._uU(24,"arrow_downward"),e.qZA(),e.TgZ(25,"span"),e._uU(26,"Descending"),e.qZA()()(),e.TgZ(27,"mat-menu",null,7)(29,"button",4),e.NdJ("click",function(){return n.onPinToggle("start")}),e.TgZ(30,"span"),e._uU(31,"Start"),e.qZA()(),e.TgZ(32,"button",4),e.NdJ("click",function(){return n.onPinToggle("end")}),e.TgZ(33,"span"),e._uU(34,"End"),e.qZA()()(),e.TgZ(35,"div",8),e.NdJ("click",function(_){return n.clickTrap(_)}),e.TgZ(36,"mat-form-field")(37,"mat-label"),e._uU(38,"Search"),e.qZA(),e.TgZ(39,"input",9,10),e.NdJ("keyup",function(){e.CHM(c);const _=e.MAs(40);return e.KtG(n.filterColumn(_.value))}),e.qZA(),e.TgZ(41,"mat-icon",11),e._uU(42,"search"),e.qZA(),e.TgZ(43,"button",12),e.NdJ("click",function(){return n.filterColumn("")}),e.TgZ(44,"mat-icon"),e._uU(45,"close"),e.qZA()()()()(),e.GkF(46,null,13)}if(2&t){const c=e.MAs(28);e.xp6(2),e.Q6J("ngIf",n.column.sort),e.xp6(1),e.Q6J("matMenuTriggerFor",c),e.xp6(14),e.ekj("menu-item-selected","asc"===n.currentSort),e.xp6(1),e.Q6J("color","asc"===n.currentSort?"primary":""),e.xp6(4),e.ekj("menu-item-selected","desc"===n.currentSort),e.xp6(1),e.Q6J("color","desc"===n.currentSort?"primary":""),e.xp6(6),e.ekj("menu-item-selected","start"===n.currentPin),e.xp6(3),e.ekj("menu-item-selected","end"===n.currentPin),e.xp6(7),e.Q6J("value",n.currentFilter),e.xp6(4),e.Udp("visibility",n.currentFilter?"visible":"hidden")}},dependencies:[f.O5,p.Hw,y.lW,v.VK,v.OP,v.p6,u.KE,u.hX,u.qo,u.R9,g.Nt],styles:[".mat-menu-panel.pbl-mat-menu-panel{max-width:400px}.mat-menu-item.pbl-mat-menu-row{width:100%;box-sizing:border-box;line-height:inherit;height:auto;margin:6px 0;cursor:inherit}.mat-menu-item.pbl-mat-menu-row:hover{background:inherit}\n"],encapsulation:2}),i})();class o{constructor(s,t,n,c){s||(t.addMulti("dataHeaderExtensions",new Z(n)),t.addMulti("overlayPanels",new x.hZ("excelMenu",r,n)))}}o.NGRID_PLUGIN=(0,M.Ic)({id:h.d},h.Z),o.\u0275fac=function(s){return new(s||o)(e.LFG(o,12),e.LFG(M.B6),e.LFG(e._Vd),e.LFG(P.f8))},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[f.ez,p.Ps,y.ot,v.Tx,u.lN,g.c,M.dC,x.N1]})},92393:(C,b,l)=>{l.d(b,{Z:()=>v,d:()=>y});var h=l(14625),f=l(67108),p=l(94650);const y="matHeaderContextMenu";let v=(()=>{class u{constructor(P,M){this.pluginCtrl=M,this.overlayPanel=P.create(M.extApi.grid)}}return u.\u0275fac=function(P){return new(P||u)(p.Y36(f.Yp),p.Y36(h.q5))},u.\u0275dir=p.lG2({type:u,selectors:[["pbl-ngrid","matHeaderContextMenu",""]],inputs:{style:["matHeaderContextMenu","style"],config:"config"},features:[p._Bn([f.Yp])]}),u})()},67108:(C,b,l)=>{l.d(b,{hZ:()=>f,Yp:()=>e,N1:()=>F,Mr:()=>u});var h=l(14625);class f extends h.id{constructor(a,r,o,i){super(),this.component=r,this.cfr=o,this.injector=i,this.kind="overlayPanels",this.projectContent=!1,this.name=a}getFactory(a){return this.cfr.resolveComponentFactory(this.component)}onCreated(a,r){r.changeDetectorRef.markForCheck(),r.changeDetectorRef.detectChanges()}}var p=l(8929),y=l(36787),v=l(7625);class u{constructor(a,r){this.overlayRef=a,this.data=r,this._closed$=new p.xQ,this.closed=this._closed$.asObservable(),this._closingActions(this,a).pipe((0,v.R)(this.closed)).subscribe(()=>this.close())}close(){if(this._closed$){const a=this._closed$;this._closed$=void 0,a.next(),a.complete(),this.overlayRef.detach(),this.overlayRef.dispose()}}_closingActions(a,r){const o=r.backdropClick(),i=r.detachments();return(0,y.T)(o,i,a.closed)}}var g=l(94650),P=l(98184),M=l(84080);const x={hasBackdrop:!1,xPos:"center",yPos:"center",insetPos:!1};let e=(()=>{class m{constructor(r,o){this._overlay=r,this.zone=o}create(r){return new E(this._overlay,this.zone,r)}}return m.\u0275fac=function(r){return new(r||m)(g.LFG(P.aV),g.LFG(g.R0b))},m.\u0275prov=g.Yz7({token:m,factory:m.\u0275fac}),m})();class E{constructor(a,r,o){this._overlay=a,this.zone=r,this.grid=o;const i=h.q5.find(o);this.injector=i.injector,this.vcRef=i.injector.get(g.s_b),this._scrollStrategy=()=>a.scrollStrategies.reposition()}openGridCell(a,r,o,i,s){const t=this.grid.columnApi.findColumn(r);if(!t)return;let n,c=0;switch(o){case"header":case"footer":n=o;break;default:"number"==typeof o&&(n="table",c=o)}if(!n)return;const d=t&&t.columnDef.queryCellElements(n)[c];return d?this.open(a,new g.SBq(d),i,s):void 0}open(a,r,o,i){o=Object.assign({...x},o||{});const s=this.findNamesExtension(a);if(s)return this.zone.run(()=>{const t=this._createOverlay(r,o),n=new u(t,i);if(this._setPosition(t.getConfig().positionStrategy,o),s instanceof h.Te){const c=this._getTemplatePortal(s.tRef,n),d=t.attach(c);d.markForCheck(),d.detectChanges()}else{const c=this._getComponentPortal(n,s),d=t.attach(c);s.onCreated(null,d)}return t.updatePosition(),n})}_createOverlay(a,r){const o=this._getOverlayConfig(a,r),i=this._overlay.create(o);return i.getConfig().hasBackdrop=!!r.hasBackdrop,i.keydownEvents().subscribe(),i}_getOverlayConfig(a,r){const o=this._overlay.position().flexibleConnectedTo(a).withLockedPosition();return new P.X_({positionStrategy:o,backdropClass:r.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this.grid.dir})}_getTemplatePortal(a,r){return new M.UE(a,this.vcRef,{grid:this.grid,ref:r})}_getComponentPortal(a,r){const o=g.zs3.create({providers:[{provide:u,useValue:a}],parent:r.injector||this.injector});return new M.C5(r.component,this.vcRef,o,r.cfr||null)}_setPosition(a,r){let[o,i]="center"===r.xPos?["center","center"]:"before"===r.xPos?["end","start"]:["start","end"],[s,t]="center"===r.yPos?["center","center"]:"above"===r.yPos?["bottom","top"]:["top","bottom"],[n,c]=[s,t],[d,_]=[o,i];r.insetPos||("center"!==s&&(n="top"===s?"bottom":"top"),"center"!==t&&(c="top"===t?"bottom":"top")),a.withPositions([{originX:o,originY:n,overlayX:d,overlayY:s,offsetY:0},{originX:i,originY:n,overlayX:_,overlayY:s,offsetY:0},{originX:o,originY:c,overlayX:d,overlayY:t,offsetY:-0},{originX:i,originY:c,overlayX:_,overlayY:t,offsetY:-0}])}findNamesExtension(a){let r;return this.grid.registry.forMulti("overlayPanels",o=>{for(const i of o)if(i.name===a)return r=i,!0}),r}}l(89166);var k=l(36895),Z=l(40445);let F=(()=>{class m{}return m.\u0275fac=function(r){return new(r||m)},m.\u0275mod=g.oAB({type:m}),m.\u0275inj=g.cJS({providers:[e],imports:[k.ez,P.U8,Z.vT]}),m})()},89166:(C,b,l)=>{l.d(b,{s:()=>p});var h=l(14625),f=l(94650);let p=(()=>{class y extends h.Te{constructor(u,g){super(u,g),this.kind="overlayPanels"}}return y.\u0275fac=function(u){return new(u||y)(f.Y36(f.Rgc),f.Y36(h.B6))},y.\u0275dir=f.lG2({type:y,selectors:[["","pblNgridOverlayPanelDef",""]],inputs:{name:["pblNgridOverlayPanelDef","name"]},features:[f.qOj]}),y})()}}]);