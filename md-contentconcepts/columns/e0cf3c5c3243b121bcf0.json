{"id":"concepts/columns/templates","title":"Column Templates","contents":"<h1 id=\"column-templates\"><a href=\"#column-templates\" aria-hidden><span class=\"icon icon-link\"></span></a>Column Templates</h1>\n<p>A rendered table is made up of cells and each cell is bound to a column (either meta column or data column).\nTo render a cell a query is sent to the template registry to find a template that match the cell's column. When no match is found the\ndefault template is used.</p>\n<blockquote class=\"info icon\">\n<div class=\"icon-location\"></div>\n The default template for all columns will render string values. For \n<strong>meta columns</strong>\n the value is the \n<code class=\"language-text\">label</code>\n and for \n<strong>data columns</strong>\n\nit is the value that the \n<code class=\"language-text\">prop</code>\n points to on the data item.\n</blockquote>\n<h2 id=\"quick--dirty\"><a href=\"#quick--dirty\" aria-hidden><span class=\"icon icon-link\"></span></a>Quick &#x26; Dirty</h2>\n<ul>\n<li>Templates are defined once and reused across tables and columns.</li>\n<li>Matching templates to columns is done by <strong>id</strong> or <strong>type</strong></li>\n<li>Design goals:<ul>\n<li>Users will not have to deal with template definitions when working with tables.</li>\n<li>Column packs will provide cell templates for common column types.</li>\n</ul></li>\n</ul>\n<h2 id=\"one-template-to-rule-them-all\"><a href=\"#one-template-to-rule-them-all\" aria-hidden><span class=\"icon icon-link\"></span></a>One template to rule them all</h2>\n<p>Templates are reusable, we can use them to rendered multiple cells over and over. A single template can be used across the app, defined once and stored for reuse.</p>\n<p>All templates are stored in a template registry using a unique key that is used to retrieve them later. The registry supports 2 kind of keys:</p>\n<ul>\n<li>id</li>\n<li>type</li>\n</ul>\n<p>To find a template for a column the template key must match the column's <code class=\"language-text\">id</code> or <code class=\"language-text\">type</code> based on the kind of the key.</p>\n<h2 id=\"registering-templates\"><a href=\"#registering-templates\" aria-hidden><span class=\"icon icon-link\"></span></a>Registering Templates</h2>\n<p>There are 4 types of cell templates: header, data, edit and footer.</p>\n<p>Registering cell templates for all columns with the <strong>id</strong> <code class=\"language-text\">avatar</code>:</p>\n<div><div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">  <span class=\"token comment\">&lt;!-- Header cell template  --></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">*pblNgridHeaderCellDef</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>avatar'; col as col<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ col.label | uppercase }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token comment\">&lt;!-- Data cell template --></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">*pblNgridCellDef</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>avatar'; value as value<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">[src]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>avatar<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token comment\">&lt;!-- Data Editor cell template --></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">*pblNgridCellEditorDef</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>avatar'; value as value<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token punctuation\">/></span></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token comment\">&lt;!-- Footer cell template --></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">*pblNgridFooterCellDef</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>avatar'; col as col<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ col.label }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div></div>\n<p>Registering cell templates for all columns with the <strong>type</strong> <code class=\"language-text\">image</code>:</p>\n<div><div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">  <span class=\"token comment\">&lt;!-- Header cell template  --></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">*pblNgridHeaderCellTypeDef</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>image'; col as col<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ col.label | uppercase }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token comment\">&lt;!-- Data cell template --></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">*pblNgridCellTypeDef</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>image'; value as value<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">[src]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>avatar<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token comment\">&lt;!-- Data Editor cell template --></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">*pblNgridCellEditorTypeDef</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>image'; value as value<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token punctuation\">/></span></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token comment\">&lt;!-- Footer cell template --></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">*pblNgridFooterCellTypeDef</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>image'; col as col<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ col.label }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div></div>\n<p>The location of the template will determine the registry used to store it.</p>\n<p>For example if set in the application root component it will be registered in the root registry, available to all tables. However, if\nset as a child of the table component it will be available only to that table instance an will be destroyed once the table is destroyed.</p>\n<div><div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pbl-ngrid</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">*pblNgridCellTypeDef</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>image'; value as value<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">[src]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>avatar<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pbl-ngrid</span><span class=\"token punctuation\">></span></span></code></pre></div></div>\n<p>One more time:</p>\n<div><div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pbl-ngrid</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pbl-ngrid</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pbl-ngrid</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">*pblNgridCellTypeDef</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>image'; value as value<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span> IMAGE 0 <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pbl-ngrid</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">*pblNgridCellTypeDef</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>image'; value as value<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span> IMAGE 1 <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div></div>\n<p>In this example the first table (top) will get the template showing <strong>IMAGE 1</strong> and the 2nd table will get the template shoing <strong>IMAGE 0</strong></p>\n<h2 id=\"default-catch-all-template\"><a href=\"#default-catch-all-template\" aria-hidden><span class=\"icon icon-link\"></span></a>Default (catch-all) template</h2>\n<p>For every type of template it is possible to define a default (wild card) template that will be used if no match is found. This is done\nby using an <strong>id</strong> cell template definition with the value <code class=\"language-text\">&#39;*&#39;</code>.</p>\n<div><div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">  <span class=\"token comment\">&lt;!-- Header cell template  --></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">*pblNgridHeaderCellDef</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>*'; col as col<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ col.label | uppercase }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token comment\">&lt;!-- Data cell template --></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">*pblNgridCellDef</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>*'; value as value<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">[src]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>avatar<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token comment\">&lt;!-- Data Editor cell template --></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">*pblNgridCellEditorDef</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>*'; value as value<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token punctuation\">/></span></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token comment\">&lt;!-- Footer cell template --></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">*pblNgridFooterCellDef</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>*'; col as col<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ col.label }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div></div>\n<blockquote class=\"warn icon\">\n<div class=\"icon-location\"></div>\n When exists, the default template is used instead of passing the query to the parent registry. Registry default templates in the root registry or close.\n</blockquote>\n<h2 id=\"cell-context\"><a href=\"#cell-context\" aria-hidden><span class=\"icon icon-link\"></span></a>Cell Context</h2>\n<p>A context is attached to every rendered cell, based on the type of the column.</p>\n<ul>\n<li>Data cells - <code class=\"language-text\">PblNgridCellContext</code></li>\n<li>Meta cells - <code class=\"language-text\">PblNgridMetaCellContext</code></li>\n</ul>\n<h3 id=\"pblngridcellcontext\"><a href=\"#pblngridcellcontext\" aria-hidden><span class=\"icon icon-link\"></span></a>PblNgridCellContext</h3>\n<div><div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">PblNgridCellContext</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  col<span class=\"token operator\">:</span> PblColumn<span class=\"token punctuation\">;</span>\n  table<span class=\"token operator\">:</span> PblNgridComponent<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">/**\n   * The context for the row\n   */</span>\n  rowContext<span class=\"token operator\">:</span> PblNgridRowContext<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token comment\">/**\n   * The data item\n   */</span>\n  row<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token comment\">/**\n   * A getter and a setter for the value.\n   */</span>\n  value<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">/**\n   * The index of the cell within the row\n   */</span>\n  index<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div></div>\n<p>The cell context provide more functionality and control which was omitted because it is out of scope.</p>\n"}