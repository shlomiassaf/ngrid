"use strict";(self.webpackChunkngrid_docs_app=self.webpackChunkngrid_docs_app||[]).push([[4015],{27569:(k,E,o)=>{o.d(E,{a:()=>l});var a=o(77093),m=o(23322),n=o(88562),h=o(5e3);let l=(()=>{class u{}return u.\u0275fac=function(p){return new(p||u)},u.\u0275mod=h.oAB({type:u}),u.\u0275inj=h.cJS({imports:[a.ae,m.aT,n.RF,a.ae,m.aT,n.RF]}),u})()},64015:(k,E,o)=>{o.r(E),o.d(E,{MatSortExampleModule:()=>D});var a=o(70655),m=o(69808),n=o(47423),h=o(20773),l=o(14625),u=o(41689),c=o(77909),p=o(59585),d=o(88562),i=o(27569),r=o(50841),t=o(5e3),f=o(601),b=o(13719),v=o(37048),C=o(72035),P=o(84820),_=o(78321),y=o(33168),A=o(84847);function T(g,e){1&g&&(t.TgZ(0,"div",3),t._UZ(1,"mat-spinner"),t.qZA())}function I(g,e){if(1&g&&t._UZ(0,"pbl-ngrid-paginator",4),2&g){const s=e.$implicit;t.Q6J("grid",s)("paginator",s.ds.paginator)}}let M=class{constructor(e){this.datasource=e,this.columns=(0,l.I7)().default({minWidth:100}).table({prop:"id",sort:!0,width:"40px"},{prop:"name",sort:!0},{prop:"gender",sort:!0,width:"50px"},{prop:"birthdate",type:"date"}).build(),this.ds=(0,l.AV)().onTrigger(()=>this.datasource.getPeople(500)).create()}};function O(g,e){if(1&g&&t._UZ(0,"pbl-ngrid-paginator",2),2&g){const s=e.$implicit;t.Q6J("grid",s)("paginator",s.ds.paginator)}}M.\u0275fac=function(e){return new(e||M)(t.Y36(r.BQ))},M.\u0275cmp=t.Xpm({type:M,selectors:[["pbl-mat-sort-example"]],decls:3,vars:2,consts:[["class","pbl-ngrid-ui-block",4,"pblNgridBlockUiDef"],["matSort","","usePagination","","blockUi","","vScrollNone","","minDataViewHeight","300",3,"dataSource","columns"],[3,"grid","paginator",4,"pblNgridPaginatorRef"],[1,"pbl-ngrid-ui-block"],[3,"grid","paginator"]],template:function(e,s){1&e&&(t.YNc(0,T,2,0,"div",0),t.TgZ(1,"pbl-ngrid",1),t.YNc(2,I,1,2,"pbl-ngrid-paginator",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("dataSource",s.ds)("columns",s.columns))},dependencies:[h.Ou,f.Y,b.U,v.eZ,C.r,P.C,_.Z,y.u,A.YE],encapsulation:2,changeDetection:0}),M=(0,a.gn)([(0,d.en)("pbl-mat-sort-example",{title:"Mat Sort"}),(0,a.w6)("design:paramtypes",[r.BQ])],M);let S=class{constructor(e){this.datasource=e,this.columns=(0,l.I7)().default({minWidth:100}).table({prop:"id",sort:!0,width:"40px"},{prop:"name",sort:!0},{prop:"gender",sort:!0,width:"50px"},{prop:"birthdate",type:"date"}).build(),this.ds=(0,l.AV)().onTrigger(()=>this.datasource.getPeople(500)).create()}};S.\u0275fac=function(e){return new(e||S)(t.Y36(r.BQ))},S.\u0275cmp=t.Xpm({type:S,selectors:[["pbl-active-column-and-direction-example"]],decls:2,vars:2,consts:[["matSort","","matSortActive","name","matSortDirection","desc","blockUi","",3,"dataSource","columns"],[3,"grid","paginator",4,"pblNgridPaginatorRef"],[3,"grid","paginator"]],template:function(e,s){1&e&&(t.TgZ(0,"pbl-ngrid",0),t.YNc(1,O,1,2,"pbl-ngrid-paginator",1),t.qZA()),2&e&&t.Q6J("dataSource",s.ds)("columns",s.columns)},dependencies:[f.Y,v.eZ,P.C,_.Z,y.u,A.YE],encapsulation:2,changeDetection:0}),S=(0,a.gn)([(0,d.en)("pbl-active-column-and-direction-example",{title:"Sorting with default active column and direction"}),(0,a.w6)("design:paramtypes",[r.BQ])],S);var B=o(77093);function N(g,e){if(1&g){const s=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){const W=t.CHM(s).$implicit,F=t.oxw();return t.KtG(F.toggleActive(W))}),t._uU(1),t.qZA()}if(2&g){const s=e.$implicit,x=t.oxw();t.xp6(1),t.AsE("",s," [",x.getNextDirection(s),"]")}}const R=function(){return["id","name","gender"]};let U=class{constructor(e){this.datasource=e,this.columns=(0,l.I7)().default({minWidth:100}).table({prop:"id",sort:!0,width:"40px"},{prop:"name",sort:!0},{prop:"gender",sort:!0,width:"50px"},{prop:"birthdate",type:"date"}).build(),this.ds=(0,l.AV)().onTrigger(()=>this.datasource.getPeople(500)).create(),this.ds.setSort(this.columns.table.cols[1],{order:"asc"})}clear(){this.ds.setSort()}toggleActive(e){const s=this.ds.sort;let x="asc";if(s&&s.column&&s.column.id===e)if(x=s.sort&&s.sort.order,"asc"===x)x="desc";else{if("desc"===x)return void this.clear();x="asc"}this.ds.hostGrid.setSort(e,{order:x})}getNextDirection(e){const s=this.ds.sort;return s.column&&s.column.id===e?"asc"===s.sort.order?"desc":"clear":"asc"}};U.\u0275fac=function(e){return new(e||U)(t.Y36(r.BQ))},U.\u0275cmp=t.Xpm({type:U,selectors:[["pbl-programmatic-example"]],decls:6,vars:4,consts:[["blockUi","","matSort","",3,"dataSource","columns"],["fxLayout","row","fxLayoutGap","16px",2,"padding","8px"],["fxFlex","noshrink","mat-stroked-button","","color","primary",3,"click",4,"ngFor","ngForOf"],["fxFlex","*"],["mat-stroked-button","","color","accent",3,"click"],["fxFlex","noshrink","mat-stroked-button","","color","primary",3,"click"]],template:function(e,s){1&e&&(t._UZ(0,"pbl-ngrid",0),t.TgZ(1,"div",1),t.YNc(2,N,2,2,"button",2),t._UZ(3,"div",3),t.TgZ(4,"button",4),t.NdJ("click",function(){return s.clear()}),t._uU(5,"Clear"),t.qZA()()),2&e&&(t.Q6J("dataSource",s.ds)("columns",s.columns),t.xp6(2),t.Q6J("ngForOf",t.DdM(3,R)))},dependencies:[m.sg,n.lW,B.xw,B.SQ,B.yH,v.eZ,P.C,y.u,A.YE],encapsulation:2,changeDetection:0}),U=(0,a.gn)([(0,d.en)("pbl-programmatic-example",{title:"Programmatic Sorting"}),(0,a.w6)("design:paramtypes",[r.BQ])],U);let D=class{};D.\u0275fac=function(e){return new(e||D)},D.\u0275mod=t.oAB({type:D}),D.\u0275inj=t.cJS({imports:[m.ez,n.ot,h.Cq,i.a,l.dC,u.sj,p.J,c.d]}),D=(0,a.gn)([(0,d.qB)(M,S,U)],D)},77909:(k,E,o)=>{o.d(E,{d:()=>p});var a=o(33168),m=o(69808),n=o(84847),h=o(47423),l=o(14625);class u extends l.id{constructor(i){super(),this.cfr=i,this.name="sortContainer",this.kind="dataHeaderExtensions",this.projectContent=!0}shouldRender(i){return!!i.col.sort&&!!i.injector.get(n.YE,!1)}getFactory(i){return this.cfr.resolveComponentFactory(n.nU)}onCreated(i,r){this.deregisterId(i,r.instance.id=i.col.id),r.changeDetectorRef.markForCheck()}deregisterId(i,r){const t=i.injector.get(n.YE),f=t.sortables.get(r);f&&t.deregister(f)}}var c=o(5e3);class p{constructor(i,r){this.registry=i,i.addMulti("dataHeaderExtensions",new u(r))}}p.NGRID_PLUGIN=(0,l.Ic)({id:a.d},a.u),p.\u0275fac=function(i){return new(i||p)(c.LFG(l.B6),c.LFG(c._Vd))},p.\u0275mod=c.oAB({type:p}),p.\u0275inj=c.cJS({imports:[m.ez,h.ot,n.JX,l.dC,n.JX]})},33168:(k,E,o)=>{o.d(E,{d:()=>l,u:()=>u});var a=o(3805),m=o(14625),n=o(5e3),h=o(84847);const l="matSort";let u=(()=>{class c{constructor(d,i,r){this.table=d,this.pluginCtrl=i,this.sort=r,this._removePlugin=i.setPlugin(l,this);let t="click";this.sort.sortChange.pipe((0,a.dW)(this)).subscribe(b=>{this.onSort(b,t),t="click"});const f=b=>{const{column:v}=b,C=b.sort?b.sort.order:void 0;if(this.sort&&v){if(this.sort.active===v.id&&this.sort.direction===(C||""))return;const P=this.sort.sortables.get(v.id);P&&(t="ds",this.sort.active=void 0,P.start=C||"asc",P._handleClick())}else if(this.sort.active){const P=this.sort.sortables.get(this.sort.active);if(P){if(!P.disableClear){let _;for(;_=this.sort.getNextSortDirection(P);)this.sort.direction=_}t="ds",P._handleClick()}}};i.events.pipe(a.aL).subscribe(b=>{const v=this.sort&&this.sort.active;d.ds&&d.ds.sort&&(!d.ds.sort.column&&v?this.onSort({active:this.sort.active,direction:this.sort.direction||"asc"},t):d.ds.sort.column&&!v&&setTimeout(()=>f(d.ds.sort)))}),i.events.subscribe(b=>{"onDataSource"===b.kind&&(a.dW.kill(this,b.prev),this.sort&&this.sort.active&&this.onSort({active:this.sort.active,direction:this.sort.direction||"asc"},t),d.ds.sortChange.pipe((0,a.dW)(this,b.curr)).subscribe(v=>{f(v)}))})}ngOnDestroy(){this._removePlugin(this.table),a.dW.kill(this)}onSort(d,i){const r=this.table,t=r.columnApi.visibleColumns.find(f=>f.id===d.active);if("click"===i&&t&&t.sort){const f={},b="function"==typeof t.sort&&t.sort;d.direction&&(f.order=d.direction),b&&(f.sortFn=b);const v=r.ds.sort;if(t===v.column&&f.order===(v.sort||{}).order)return;r.ds.setSort(t,f)}}}return c.\u0275fac=function(d){return new(d||c)(n.Y36(m.eZ),n.Y36(m.q5),n.Y36(h.YE))},c.\u0275dir=n.lG2({type:c,selectors:[["pbl-ngrid","matSort",""]],exportAs:["pblMatSort"]}),c})()},41689:(k,E,o)=>{o.d(E,{sj:()=>c}),o(72035);var m=o(84820),n=o(69808),h=o(47796),l=o(14625),u=o(5e3);class c{}c.NGRID_PLUGIN=(0,l.Ic)({id:m.d},m.C),c.\u0275fac=function(d){return new(d||c)},c.\u0275mod=u.oAB({type:c}),c.\u0275inj=u.cJS({imports:[n.ez,h.HT,l.dC]})},84820:(k,E,o)=>{o.d(E,{C:()=>c,d:()=>u});var a=o(54715),m=o(63191),n=o(3805),h=o(14625),l=o(5e3);const u="blockUi";let c=(()=>{class p{constructor(i,r){this.grid=i,this._blockInProgress=!1,this._removePlugin=r.setPlugin(u,this),i.registry.changes.subscribe(t=>{for(const f of t)"blocker"===f.type&&this.setupBlocker()}),r.onInit().subscribe(t=>{t&&this._blockUi&&"boolean"==typeof this._blockUi&&this.setupBlocker()}),r.events.subscribe(t=>{if("onDataSource"===t.kind){const{prev:f,curr:b}=t;f&&n.dW.kill(this,f),b.onSourceChanging.pipe((0,n.dW)(this,b)).subscribe(()=>{"auto"===this._blockUi&&(this._blockInProgress=!0,this.setupBlocker())}),b.onSourceChanged.pipe((0,n.dW)(this,b)).subscribe(()=>{"auto"===this._blockUi&&(this._blockInProgress=!1,this.setupBlocker())})}})}get blockUi(){return this._blockUi}set blockUi(i){let r=(0,m.Ig)(i);r&&("auto"===i||""===i)&&(r="auto"),(0,a.b)(i)&&this._blockUi!==i?((0,a.b)(this._blockUi)&&n.dW.kill(this,this._blockUi),this._blockUi=i,i.pipe((0,n.dW)(this,this._blockUi)).subscribe(t=>{this._blockInProgress=t,this.setupBlocker()})):this._blockUi!==r&&(this._blockUi=r,"auto"!==r&&(this._blockInProgress=r,this.setupBlocker()))}ngOnDestroy(){n.dW.kill(this),this._removePlugin(this.grid)}setupBlocker(){if(this.grid.isInit)if(this._blockInProgress){if(!this._blockerEmbeddedVRef){const r=this.grid.registry.getSingle("blocker");r&&(this._blockerEmbeddedVRef=this.grid.createView("afterContent",r.tRef,{$implicit:this.grid}),this._blockerEmbeddedVRef.detectChanges())}}else this._blockerEmbeddedVRef&&(this.grid.removeView(this._blockerEmbeddedVRef,"afterContent"),this._blockerEmbeddedVRef=void 0)}}return p.\u0275fac=function(i){return new(i||p)(l.Y36(h.eZ),l.Y36(h.q5))},p.\u0275dir=l.lG2({type:p,selectors:[["pbl-ngrid","blockUi",""]],inputs:{blockUi:"blockUi"},exportAs:["blockUi"]}),p})()},72035:(k,E,o)=>{o.d(E,{r:()=>n});var a=o(14625),m=o(5e3);let n=(()=>{class h extends a.iT{constructor(u,c){super(u,c),this.kind="blocker"}}return h.\u0275fac=function(u){return new(u||h)(m.Y36(m.Rgc),m.Y36(a.B6))},h.\u0275dir=m.lG2({type:h,selectors:[["","pblNgridBlockUiDef",""]],features:[m.qOj]}),h})()}}]);