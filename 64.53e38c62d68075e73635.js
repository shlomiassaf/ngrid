(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{HsLd:function(e,t,a){"use strict";a.r(t),a.d(t,"InfiniteScrollPerformanceDemoExampleModule",function(){return $});var n=a("mrSG"),o=a("ofXK"),l=a("kmnG"),i=a("d3UM"),c=a("5RNC"),r=a("QibW"),s=a("bSwM"),d=a("Xa2L"),u=a("XEBs"),p=a("LnE1"),b=a("4dOD"),h=a("6JOf"),m=a("BuSo"),f=a("+9h+"),g=a("MhSk"),w=a("Lr2k"),v=a("LpJu"),y=a("YT2F"),C=a("WPM6"),S=a("mwjq"),x=a("fXoL"),T=a("fluT"),I=a("XiUz"),M=a("XkVd"),k=a("7WRX"),P=a("BxRN"),D=a("4DA5"),O=a("cGur"),L=a("IO+B"),A=a("Dh3D"),B=a("+Czz"),j=a("kvXS"),H=a("aR4q"),R=a("L3Ad"),Z=a("PIXP"),N=a("tQNW"),q=a("8r4k");function Q(e,t){if(1&e){const e=x.bc();x.ac(0,"mat-slider",10),x.lc("change",function(t){return x.Hc(e),x.pc().wheelMode=t.value}),x.Zb()}if(2&e){const e=x.pc();x.wc("value",e.wheelMode)}}function U(e,t){if(1&e&&(x.ac(0,"div",17),x.Sc(1),x.qc(2,"currency"),x.Zb()),2&e){const e=t.value,a=t.col,n=t.row;x.wc("ngridCellClass",e<0?a.type.data.pbl:a.type.data.pos),x.Hb(1),x.Tc(x.tc(2,2,e,a.type.data.meta.currency(n),"symbol",a.type.data.format))}}function X(e,t){if(1&e&&(x.ac(0,"div"),x.Sc(1),x.Zb()),2&e){const e=t.col,a=t.row;x.Hb(1),x.Tc(e.type.data.flagAndCountry(a))}}function z(e,t){if(1&e&&(x.ac(0,"div"),x.Sc(1),x.qc(2,"number"),x.qc(3,"number"),x.qc(4,"number"),x.Zb()),2&e){const e=x.pc(2);x.Hb(1),x.Wc(" Showing ",x.rc(2,3,e.ds.renderStart)," to ",x.rc(3,5,e.ds.renderStart+e.ds.renderLength)," out of ",x.rc(4,7,e.ds.length),"")}}function G(e,t){1&e&&(x.ac(0,"pbl-ngrid-row",18),x.Vb(1,"mat-spinner",19),x.Zb())}function V(e,t){if(1&e&&(x.ac(0,"pbl-ngrid",11),x.Vb(1,"pbl-demo-action-row",12),x.Qc(2,U,3,7,"div",13),x.Qc(3,X,2,1,"div",14),x.Qc(4,z,5,9,"div",15),x.Qc(5,G,2,0,"pbl-ngrid-row",16),x.Zb()),2&e){const e=x.pc();x.wc("dataSource",e.ds)("columns",e.columns)("wheelMode",e.wheelMode)("hideColumns",e.hideColumns),x.Hb(2),x.wc("pblNgridCellTypeDef","accountBalance"),x.Hb(1),x.wc("pblNgridCellTypeDef","flagAndCountry"),x.Hb(1),x.wc("pblNgridFooterCellDef","footerPageInfo")}}const W={currency:e=>{var t;return null===(t=W.data.countries[e.country])||void 0===t?void 0:t.currencies[0]},flagAndCountry:e=>W.flag(e)+" "+W.name(e),name:e=>{var t;return null===(t=W.data.countries[e.country])||void 0===t?void 0:t.name},flag:e=>{var t;return null===(t=W.data.countries[e.country])||void 0===t?void 0:t.emoji},data:void 0},F={name:"accountBalance",data:{pbl:"balance-negative",pos:"balance-positive",format:"1.0-2",meta:W}};function E(e=!1){const t=t=>e?void 0:t;return Object(u.r)().default({minWidth:100,resize:!0}).table({prop:"id",pIndex:!0,width:"40px"},{prop:"name",sort:!0,reorder:!0},{prop:"country",headerType:t("country"),type:t({name:"flagAndCountry",data:W}),width:"150px"},{prop:"jobTitle"},{prop:"accountId"},{prop:"accountType",reorder:!0},{prop:"primeAccount",type:t("visualBool"),width:"24px"},{prop:"creditScore",type:t("starRatings"),width:"50px"},{prop:"balance",type:t(F),sort:!0},...Array.from(new Array(12)).map((e,a)=>({prop:`monthlyBalance.${a}`,type:t(F),sort:!0}))).headerGroup({label:"Customer Info",columnIds:["name","country","jobTitle"]},{label:"Account Info",columnIds:["accountId","accountType","primeAccount","creditScore","balance"]},{label:"Monthly Balance",columnIds:Array.from(new Array(12)).map((e,t)=>`monthlyBalance.${t}`)}).footer({id:"footerPageInfo"}).footer({id:"rere123f",label:"FOOTER2"}).build()}let J=(()=>{let e=class{constructor(e,t,a){this.datasource=e,this.client=t,this.cdr=a,this.columns=E(),this.ds=this.getDatasource(),this.wheelMode="passive",this.wheelModeState="passive",this.plainColumns=!1,this.showTable=!0,this.hideColumns=[]}toggleColumn(e,t){const a=e.indexOf(t);-1===a?e.push(t):e.splice(a,1)}togglePlainColumns(){this.plainColumns=!this.plainColumns,this.showTable=!1,setTimeout(()=>{this.showTable=!0,this.columns=E(this.plainColumns),this.ds=this.getDatasource(),this.cdr.detectChanges()},100)}wheelModeChange(e){switch(this.wheelModeState=e.value,this.wheelModeState){case"passive":case"blocking":this.wheelMode=this.wheelModeState;break;default:this.wheelMode=15}}getDatasource(){return Object(v.b)().withInfiniteScrollOptions({blockSize:100,initialVirtualSize:100}).withCacheOptions("sequenceBlocks").onTrigger(e=>{if(e.isInitial)return this.datasource.getCountries().then(e=>W.data=e).then(()=>this.client.getCustomers({pagination:{itemsPerPage:100,page:1}})).then(t=>(console.log("Init Infinite Request!"),this.ds.updateVirtualSize(3e6),e.updateTotalLength(3e6),t.items));{const t=Math.floor(e.fromRow/100)+1;return console.log(`Infinite Request - Page: ${t} | Items: 100 `),this.client.getCustomers({pagination:{itemsPerPage:100,page:1}}).then(e=>e.items.map(e=>Object.assign(Object.create(e),{id:e.id+100*(t-1)})))}}).create()}};return e.\u0275fac=function(t){return new(t||e)(x.Ub(T.a),x.Ub(T.b),x.Ub(x.h))},e.\u0275cmp=x.Ob({type:e,selectors:[["pbl-infinite-scroll-performance-demo-example"]],viewQuery:function(e,t){if(1&e&&x.Zc(u.f,1),2&e){let e;x.Dc(e=x.mc())&&(t.pblTable=e.first)}},decls:14,vars:6,consts:[["fxLayout","column","fxLayoutGap","16px",1,"pbl-fill-absolute"],["fxLayout","row","fxLayoutGap","16px",2,"width","100%"],["fxLayout","row","fxLayoutGap","8px",3,"value","disabled","change"],["value","passive"],["value","blocking"],["value","threshold"],["thumbLabel","","min","1","max","55",3,"value","change",4,"ngIf"],[3,"checked","change"],[2,"flex","1 1 100%","display","flex","min-height","0px"],["class","pbl-ngrid-cell-ellipsis pbl-ngrid-header-cell-ellipsis","style","height: 100%; width: 100%;","vScrollAuto","","maxBufferPx","100","minBufferPx","50","showHeader","","columnReorder","","blockUi","","matSort","","cellTooltip","",3,"dataSource","columns","wheelMode","hideColumns",4,"ngIf"],["thumbLabel","","min","1","max","55",3,"value","change"],["vScrollAuto","","maxBufferPx","100","minBufferPx","50","showHeader","","columnReorder","","blockUi","","matSort","","cellTooltip","",1,"pbl-ngrid-cell-ellipsis","pbl-ngrid-header-cell-ellipsis",2,"height","100%","width","100%",3,"dataSource","columns","wheelMode","hideColumns"],["label","Infinite Scroll Performance","showFps",""],[3,"ngridCellClass",4,"pblNgridCellTypeDef"],[4,"pblNgridCellTypeDef"],[4,"pblNgridFooterCellDef"],["in","","class","pbl-ngrid-infinite-virtual-row","infiniteRow","",4,"pblNgridInfiniteVirtualRowDef"],[3,"ngridCellClass"],["in","","infiniteRow","",1,"pbl-ngrid-infinite-virtual-row"],["diameter","24"]],template:function(e,t){1&e&&(x.ac(0,"div",0),x.ac(1,"div",1),x.ac(2,"mat-radio-group",2),x.lc("change",function(e){return t.wheelModeChange(e)}),x.ac(3,"mat-radio-button",3),x.Sc(4,"Passive"),x.Zb(),x.ac(5,"mat-radio-button",4),x.Sc(6,"Blocking"),x.Zb(),x.ac(7,"mat-radio-button",5),x.Sc(8),x.Zb(),x.Zb(),x.Qc(9,Q,1,1,"mat-slider",6),x.Zb(),x.ac(10,"mat-checkbox",7),x.lc("change",function(){return t.togglePlainColumns()}),x.Sc(11,"Use plain columns (higher frame rate)"),x.Zb(),x.ac(12,"div",8),x.Qc(13,V,6,7,"pbl-ngrid",9),x.Zb(),x.Zb()),2&e&&(x.Hb(2),x.wc("value",t.wheelModeState)("disabled",null==t.pblTable?null:t.pblTable.virtualPagingActive),x.Hb(6),x.Uc("Threshold","threshold"===t.wheelModeState?" ("+t.wheelMode+")":"",""),x.Hb(1),x.wc("ngIf","threshold"===t.wheelModeState),x.Hb(1),x.wc("checked",t.plainColumns),x.Hb(3),x.wc("ngIf",t.showTable))},directives:[I.c,I.d,r.b,r.a,o.p,s.a,c.a,M.a,k.a,P.b,D.b,O.b,L.a,A.a,B.b,j.a,H.a,R.a,Z.a,N.a,q.a,d.b],pipes:[o.d,o.g],styles:[".balance-negative{background:rgba(255,0,0,.33)}.balance-positive{background:rgba(0,128,0,.33)}"],encapsulation:2,changeDetection:0}),e=Object(n.a)([Object(y.e)("pbl-infinite-scroll-performance-demo-example",{title:"Infinite Scroll Performance Demo"}),Object(n.b)("design:paramtypes",[T.a,T.b,x.h])],e),e})(),$=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x.Sb({type:e}),e.\u0275inj=x.Rb({providers:[u.n],imports:[[o.c,l.d,i.b,c.b,r.c,s.b,d.a,C.a,S.b,u.j.withCommon([{component:S.a}]),p.a.withDefaultTemplates(),b.a,h.a,m.a,f.a,g.a,w.a,v.a]]}),e=Object(n.a)([Object(y.a)(J)],e),e})()}}]);