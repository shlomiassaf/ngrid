"use strict";(self.webpackChunkngrid_docs_app=self.webpackChunkngrid_docs_app||[]).push([[2681],{27569:(D,C,e)=>{e.d(C,{a:()=>l});var s=e(77093),m=e(23322),r=e(88562),g=e(5e3);let l=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=g.oAB({type:c}),c.\u0275inj=g.cJS({imports:[s.ae,m.aT,r.RF,s.ae,m.aT,r.RF]}),c})()},82681:(D,C,e)=>{e.r(C),e.d(C,{ColumnHeaderMenuExampleModule:()=>P});var s=e(70655),m=e(69808),r=e(92181),g=e(25245),l=e(14625),c=e(41689),i=e(77909),a=e(88562),d=e(27569),o=e(50841),t=e(5e3),n=e(77093),h=e(73006),p=e(42777),E=e(32445),U=e(37048),v=e(84820),A=e(33168),y=e(84847);const S=function(f){return{background:f}};function B(f,_){if(1&f&&(t.TgZ(0,"div",7),t._uU(1),t.ALo(2,"number"),t.qZA()),2&f){const u=_.value,b=_.col;t.Q6J("ngridCellStyle",t.VKq(5,S,u<0?b.type.data.neg:b.type.data.pos)),t.xp6(1),t.Oqu(t.xi3(2,2,u,b.type.data.format))}}function N(f,_){if(1&f&&(t.TgZ(0,"div",8)(1,"mat-icon",9),t._uU(2,"more_vert"),t.qZA()()),2&f){const u=_.$implicit;t.oxw();const b=t.MAs(4);t.Q6J("matMenuTriggerFor",b)("matMenuTriggerData",u)}}function O(f,_){if(1&f){const u=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){const M=t.CHM(u).$implicit;return t.KtG(M.table.columnApi.autoSizeColumn(M.col))}),t._uU(1,"Auto Fit"),t.qZA(),t.TgZ(2,"button",11),t._uU(3,"Sort"),t.qZA(),t.TgZ(4,"button",12),t._uU(5,"Pin"),t.qZA()}if(2&f){const u=_.$implicit;t.oxw();const b=t.MAs(7),T=t.MAs(10);t.xp6(2),t.Q6J("matMenuTriggerFor",b)("matMenuTriggerData",u)("disabled",!u.col.sort),t.xp6(2),t.Q6J("matMenuTriggerFor",T)("matMenuTriggerData",u)}}function I(f,_){if(1&f){const u=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){const M=t.CHM(u).$implicit;return t.KtG(M.table.ds.setSort())}),t._uU(1,"None"),t.qZA(),t.TgZ(2,"button",10),t.NdJ("click",function(){const M=t.CHM(u).$implicit;return t.KtG(M.table.ds.setSort(M.col,{order:"asc"}))}),t._uU(3,"Asc"),t.qZA(),t.TgZ(4,"button",10),t.NdJ("click",function(){const M=t.CHM(u).$implicit;return t.KtG(M.table.ds.setSort(M.col,{order:"desc"}))}),t._uU(5,"Desc"),t.qZA()}}function H(f,_){if(1&f){const u=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){const M=t.CHM(u).$implicit;return t.KtG(M.col.columnDef.updatePin())}),t._uU(1,"Unpin"),t.qZA(),t.TgZ(2,"button",10),t.NdJ("click",function(){const M=t.CHM(u).$implicit;return t.KtG(M.col.columnDef.updatePin("start"))}),t._uU(3,"Pin Start"),t.qZA(),t.TgZ(4,"button",10),t.NdJ("click",function(){const M=t.CHM(u).$implicit;return t.KtG(M.col.columnDef.updatePin("end"))}),t._uU(5,"Pin End"),t.qZA()}}const k={name:"accountBalance",data:{neg:"rgba(255, 0, 0, 0.33)",pos:"rgba(0, 128, 0, 0.33)",format:"1.0-2"}};let x=class{constructor(_){this.datasource=_,this.columns=(0,l.I7)().default({minWidth:100,resize:!0}).table({prop:"id",width:"40px"},{prop:"name",sort:!0,reorder:!0},{prop:"jobTitle"},{prop:"accountId"},{prop:"accountType",reorder:!0},{prop:"primeAccount",type:"visualBool",width:"24px"},{prop:"creditScore",type:"starRatings",width:"50px"},{prop:"balance",type:k,sort:!0},...Array.from(new Array(12)).map((u,b)=>({prop:`monthlyBalance.${b}`,type:k,sort:!0}))).build(),this.ds=(0,l.AV)().onTrigger(()=>this.datasource.getCustomers(500)).create()}};x.\u0275fac=function(_){return new(_||x)(t.Y36(o.BQ))},x.\u0275cmp=t.Xpm({type:x,selectors:[["pbl-column-header-menu-example"]],decls:12,vars:3,consts:[["blockUi","","matSort","",1,"pbl-ngrid-cell-ellipsis","pbl-ngrid-header-cell-ellipsis",3,"dataSource","columns"],[3,"ngridCellStyle",4,"pblNgridCellTypeDef"],["style","position: absolute; right: 0; height: 100%; cursor: pointer; margin-right: 12px;","fxLayoutAlign","center center",3,"matMenuTriggerFor","matMenuTriggerData",4,"pblNgridHeaderExtensionRef"],["columnMenu","matMenu"],["matMenuContent",""],["columnSortMenu","matMenu"],["columnPinMenu","matMenu"],[3,"ngridCellStyle"],["fxLayoutAlign","center center",2,"position","absolute","right","0","height","100%","cursor","pointer","margin-right","12px",3,"matMenuTriggerFor","matMenuTriggerData"],[2,"height","16px","width","16px","font-size","16px","line-height","16px"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor","matMenuTriggerData","disabled"],["mat-menu-item","",3,"matMenuTriggerFor","matMenuTriggerData"]],template:function(_,u){1&_&&(t.TgZ(0,"pbl-ngrid",0),t.YNc(1,B,3,7,"div",1),t.YNc(2,N,3,2,"div",2),t.TgZ(3,"mat-menu",null,3),t.YNc(5,O,6,5,"ng-template",4),t.qZA(),t.TgZ(6,"mat-menu",null,5),t.YNc(8,I,6,0,"ng-template",4),t.qZA(),t.TgZ(9,"mat-menu",null,6),t.YNc(11,H,6,0,"ng-template",4),t.qZA()()),2&_&&(t.Q6J("dataSource",u.ds)("columns",u.columns),t.xp6(1),t.Q6J("pblNgridCellTypeDef","accountBalance"))},dependencies:[g.Hw,r.VK,r.OP,r.p6,r.KA,n.Wh,h.e,p.q,E.I,U.eZ,v.C,A.u,y.YE,m.JJ],encapsulation:2,changeDetection:0}),x=(0,s.gn)([(0,a.en)("pbl-column-header-menu-example",{title:"Column Header Menu"}),(0,s.w6)("design:paramtypes",[o.BQ])],x);let P=class{};P.\u0275fac=function(_){return new(_||P)},P.\u0275mod=t.oAB({type:P}),P.\u0275inj=t.cJS({imports:[m.ez,g.Ps,r.Tx,d.a,l.dC,c.sj,i.d]}),P=(0,s.gn)([(0,a.qB)(x)],P)},77909:(D,C,e)=>{e.d(C,{d:()=>a});var s=e(33168),m=e(69808),r=e(84847),g=e(47423),l=e(14625);class c extends l.id{constructor(o){super(),this.cfr=o,this.name="sortContainer",this.kind="dataHeaderExtensions",this.projectContent=!0}shouldRender(o){return!!o.col.sort&&!!o.injector.get(r.YE,!1)}getFactory(o){return this.cfr.resolveComponentFactory(r.nU)}onCreated(o,t){this.deregisterId(o,t.instance.id=o.col.id),t.changeDetectorRef.markForCheck()}deregisterId(o,t){const n=o.injector.get(r.YE),h=n.sortables.get(t);h&&n.deregister(h)}}var i=e(5e3);class a{constructor(o,t){this.registry=o,o.addMulti("dataHeaderExtensions",new c(t))}}a.NGRID_PLUGIN=(0,l.Ic)({id:s.d},s.u),a.\u0275fac=function(o){return new(o||a)(i.LFG(l.B6),i.LFG(i._Vd))},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[m.ez,g.ot,r.JX,l.dC,r.JX]})},33168:(D,C,e)=>{e.d(C,{d:()=>l,u:()=>c});var s=e(3805),m=e(14625),r=e(5e3),g=e(84847);const l="matSort";let c=(()=>{class i{constructor(d,o,t){this.table=d,this.pluginCtrl=o,this.sort=t,this._removePlugin=o.setPlugin(l,this);let n="click";this.sort.sortChange.pipe((0,s.dW)(this)).subscribe(p=>{this.onSort(p,n),n="click"});const h=p=>{const{column:E}=p,U=p.sort?p.sort.order:void 0;if(this.sort&&E){if(this.sort.active===E.id&&this.sort.direction===(U||""))return;const v=this.sort.sortables.get(E.id);v&&(n="ds",this.sort.active=void 0,v.start=U||"asc",v._handleClick())}else if(this.sort.active){const v=this.sort.sortables.get(this.sort.active);if(v){if(!v.disableClear){let A;for(;A=this.sort.getNextSortDirection(v);)this.sort.direction=A}n="ds",v._handleClick()}}};o.events.pipe(s.aL).subscribe(p=>{const E=this.sort&&this.sort.active;d.ds&&d.ds.sort&&(!d.ds.sort.column&&E?this.onSort({active:this.sort.active,direction:this.sort.direction||"asc"},n):d.ds.sort.column&&!E&&setTimeout(()=>h(d.ds.sort)))}),o.events.subscribe(p=>{"onDataSource"===p.kind&&(s.dW.kill(this,p.prev),this.sort&&this.sort.active&&this.onSort({active:this.sort.active,direction:this.sort.direction||"asc"},n),d.ds.sortChange.pipe((0,s.dW)(this,p.curr)).subscribe(E=>{h(E)}))})}ngOnDestroy(){this._removePlugin(this.table),s.dW.kill(this)}onSort(d,o){const t=this.table,n=t.columnApi.visibleColumns.find(h=>h.id===d.active);if("click"===o&&n&&n.sort){const h={},p="function"==typeof n.sort&&n.sort;d.direction&&(h.order=d.direction),p&&(h.sortFn=p);const E=t.ds.sort;if(n===E.column&&h.order===(E.sort||{}).order)return;t.ds.setSort(n,h)}}}return i.\u0275fac=function(d){return new(d||i)(r.Y36(m.eZ),r.Y36(m.q5),r.Y36(g.YE))},i.\u0275dir=r.lG2({type:i,selectors:[["pbl-ngrid","matSort",""]],exportAs:["pblMatSort"]}),i})()},41689:(D,C,e)=>{e.d(C,{sj:()=>i}),e(72035);var m=e(84820),r=e(69808),g=e(47796),l=e(14625),c=e(5e3);class i{}i.NGRID_PLUGIN=(0,l.Ic)({id:m.d},m.C),i.\u0275fac=function(d){return new(d||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[r.ez,g.HT,l.dC]})},84820:(D,C,e)=>{e.d(C,{C:()=>i,d:()=>c});var s=e(54715),m=e(63191),r=e(3805),g=e(14625),l=e(5e3);const c="blockUi";let i=(()=>{class a{constructor(o,t){this.grid=o,this._blockInProgress=!1,this._removePlugin=t.setPlugin(c,this),o.registry.changes.subscribe(n=>{for(const h of n)"blocker"===h.type&&this.setupBlocker()}),t.onInit().subscribe(n=>{n&&this._blockUi&&"boolean"==typeof this._blockUi&&this.setupBlocker()}),t.events.subscribe(n=>{if("onDataSource"===n.kind){const{prev:h,curr:p}=n;h&&r.dW.kill(this,h),p.onSourceChanging.pipe((0,r.dW)(this,p)).subscribe(()=>{"auto"===this._blockUi&&(this._blockInProgress=!0,this.setupBlocker())}),p.onSourceChanged.pipe((0,r.dW)(this,p)).subscribe(()=>{"auto"===this._blockUi&&(this._blockInProgress=!1,this.setupBlocker())})}})}get blockUi(){return this._blockUi}set blockUi(o){let t=(0,m.Ig)(o);t&&("auto"===o||""===o)&&(t="auto"),(0,s.b)(o)&&this._blockUi!==o?((0,s.b)(this._blockUi)&&r.dW.kill(this,this._blockUi),this._blockUi=o,o.pipe((0,r.dW)(this,this._blockUi)).subscribe(n=>{this._blockInProgress=n,this.setupBlocker()})):this._blockUi!==t&&(this._blockUi=t,"auto"!==t&&(this._blockInProgress=t,this.setupBlocker()))}ngOnDestroy(){r.dW.kill(this),this._removePlugin(this.grid)}setupBlocker(){if(this.grid.isInit)if(this._blockInProgress){if(!this._blockerEmbeddedVRef){const t=this.grid.registry.getSingle("blocker");t&&(this._blockerEmbeddedVRef=this.grid.createView("afterContent",t.tRef,{$implicit:this.grid}),this._blockerEmbeddedVRef.detectChanges())}}else this._blockerEmbeddedVRef&&(this.grid.removeView(this._blockerEmbeddedVRef,"afterContent"),this._blockerEmbeddedVRef=void 0)}}return a.\u0275fac=function(o){return new(o||a)(l.Y36(g.eZ),l.Y36(g.q5))},a.\u0275dir=l.lG2({type:a,selectors:[["pbl-ngrid","blockUi",""]],inputs:{blockUi:"blockUi"},exportAs:["blockUi"]}),a})()},72035:(D,C,e)=>{e.d(C,{r:()=>r});var s=e(14625),m=e(5e3);let r=(()=>{class g extends s.iT{constructor(c,i){super(c,i),this.kind="blocker"}}return g.\u0275fac=function(c){return new(c||g)(m.Y36(m.Rgc),m.Y36(s.B6))},g.\u0275dir=m.lG2({type:g,selectors:[["","pblNgridBlockUiDef",""]],features:[m.qOj]}),g})()}}]);