"use strict";(self.webpackChunkngrid_docs_app=self.webpackChunkngrid_docs_app||[]).push([[6529],{27569:(D,O,o)=>{o.d(O,{a:()=>x});var v=o(1576),u=o(55829),P=o(88562),i=o(94650);let x=(()=>{class s{}return s.\u0275fac=function(E){return new(E||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[v.ae,u.aT,P.RF,v.ae,u.aT,P.RF]}),s})()},66529:(D,O,o)=>{o.r(O),o.d(O,{OverlayPanelExampleModule:()=>h});var v=o(70655),u=o(36895),P=o(4859),i=o(14625),x=o(67108),s=o(88562),c=o(27569),E=o(50841),a=o(94650),C=o(1576),b=o(37048),N=o(89166);function F(r,t){1&r&&(a.TgZ(0,"div")(1,"h1"),a._uU(2,"I Am a panel"),a.qZA()())}let f=class{constructor(t,e){this.datasource=t,this.overlayPanelFactory=e,this.columns=(0,i.I7)().table({prop:"id",sort:!0,width:"40px",wontBudge:!0},{prop:"name",sort:!0},{prop:"email",minWidth:250,width:"250px"},{prop:"address"},{prop:"rating",type:"starRatings",width:"120px"}).build(),this.ds=(0,i.AV)().onTrigger(()=>this.datasource.getSellers(0,100)).create()}show(){this.overlayPanelFactory.create(this.ngrid).openGridCell("myUniquePanelName","name","header",{hasBackdrop:!0,xPos:"after",yPos:"below"})}};f.\u0275fac=function(t){return new(t||f)(a.Y36(E.BQ),a.Y36(x.Yp))},f.\u0275cmp=a.Xpm({type:f,selectors:[["pbl-overlay-panel-example"]],viewQuery:function(t,e){if(1&t&&a.Gf(i.eZ,7),2&t){let n;a.iGM(n=a.CRH())&&(e.ngrid=n.first)}},decls:6,vars:3,consts:[["fxLayout","row","fxLayoutGap","16px",2,"padding","8px"],["fxFlex","noshrink","mat-stroked-button","","color","accent",3,"click"],["fxFlex","*"],[1,"pbl-ngrid-cell-ellipsis",3,"dataSource","columns"],[4,"pblNgridOverlayPanelDef"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0)(1,"button",1),a.NdJ("click",function(){return e.show()}),a._uU(2,"Show Panel"),a.qZA(),a._UZ(3,"div",2),a.qZA(),a.TgZ(4,"pbl-ngrid",3),a.YNc(5,F,3,0,"div",4),a.qZA()),2&t&&(a.xp6(4),a.Q6J("dataSource",e.ds)("columns",e.columns),a.xp6(1),a.Q6J("pblNgridOverlayPanelDef","myUniquePanelName"))},dependencies:[P.lW,C.xw,C.SQ,C.yH,b.eZ,N.s],encapsulation:2,changeDetection:0}),f=(0,v.gn)([(0,s.en)("pbl-overlay-panel-example",{title:"Overlay Panel"}),(0,v.w6)("design:paramtypes",[E.BQ,x.Yp])],f);let h=class{};h.\u0275fac=function(t){return new(t||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[u.ez,P.ot,c.a,i.dC,x.N1]}),h=(0,v.gn)([(0,s.qB)(f)],h)},67108:(D,O,o)=>{o.d(O,{hZ:()=>u,Yp:()=>b,N1:()=>h,Mr:()=>s});var v=o(14625);class u extends v.id{constructor(t,e,n,l){super(),this.component=e,this.cfr=n,this.injector=l,this.kind="overlayPanels",this.projectContent=!1,this.name=t}getFactory(t){return this.cfr.resolveComponentFactory(this.component)}onCreated(t,e){e.changeDetectorRef.markForCheck(),e.changeDetectorRef.detectChanges()}}var P=o(8929),i=o(36787),x=o(7625);class s{constructor(t,e){this.overlayRef=t,this.data=e,this._closed$=new P.xQ,this.closed=this._closed$.asObservable(),this._closingActions(this,t).pipe((0,x.R)(this.closed)).subscribe(()=>this.close())}close(){if(this._closed$){const t=this._closed$;this._closed$=void 0,t.next(),t.complete(),this.overlayRef.detach(),this.overlayRef.dispose()}}_closingActions(t,e){const n=e.backdropClick(),l=e.detachments();return(0,i.T)(n,l,t.closed)}}var c=o(94650),E=o(98184),a=o(84080);const C={hasBackdrop:!1,xPos:"center",yPos:"center",insetPos:!1};let b=(()=>{class r{constructor(e,n){this._overlay=e,this.zone=n}create(e){return new N(this._overlay,this.zone,e)}}return r.\u0275fac=function(e){return new(e||r)(c.LFG(E.aV),c.LFG(c.R0b))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();class N{constructor(t,e,n){this._overlay=t,this.zone=e,this.grid=n;const l=v.q5.find(n);this.injector=l.injector,this.vcRef=l.injector.get(c.s_b),this._scrollStrategy=()=>t.scrollStrategies.reposition()}openGridCell(t,e,n,l,p){const d=this.grid.columnApi.findColumn(e);if(!d)return;let y,m=0;switch(n){case"header":case"footer":y=n;break;default:"number"==typeof n&&(y="table",m=n)}if(!y)return;const g=d&&d.columnDef.queryCellElements(y)[m];return g?this.open(t,new c.SBq(g),l,p):void 0}open(t,e,n,l){n=Object.assign({...C},n||{});const p=this.findNamesExtension(t);if(p)return this.zone.run(()=>{const d=this._createOverlay(e,n),y=new s(d,l);if(this._setPosition(d.getConfig().positionStrategy,n),p instanceof v.Te){const m=this._getTemplatePortal(p.tRef,y),g=d.attach(m);g.markForCheck(),g.detectChanges()}else{const m=this._getComponentPortal(y,p),g=d.attach(m);p.onCreated(null,g)}return d.updatePosition(),y})}_createOverlay(t,e){const n=this._getOverlayConfig(t,e),l=this._overlay.create(n);return l.getConfig().hasBackdrop=!!e.hasBackdrop,l.keydownEvents().subscribe(),l}_getOverlayConfig(t,e){const n=this._overlay.position().flexibleConnectedTo(t).withLockedPosition();return new E.X_({positionStrategy:n,backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this.grid.dir})}_getTemplatePortal(t,e){return new a.UE(t,this.vcRef,{grid:this.grid,ref:e})}_getComponentPortal(t,e){const n=c.zs3.create({providers:[{provide:s,useValue:t}],parent:e.injector||this.injector});return new a.C5(e.component,this.vcRef,n,e.cfr||null)}_setPosition(t,e){let[n,l]="center"===e.xPos?["center","center"]:"before"===e.xPos?["end","start"]:["start","end"],[p,d]="center"===e.yPos?["center","center"]:"above"===e.yPos?["bottom","top"]:["top","bottom"],[y,m]=[p,d],[g,T]=[n,l];e.insetPos||("center"!==p&&(y="top"===p?"bottom":"top"),"center"!==d&&(m="top"===d?"bottom":"top")),t.withPositions([{originX:n,originY:y,overlayX:g,overlayY:p,offsetY:0},{originX:l,originY:y,overlayX:T,overlayY:p,offsetY:0},{originX:n,originY:m,overlayX:g,overlayY:d,offsetY:-0},{originX:l,originY:m,overlayX:T,overlayY:d,offsetY:-0}])}findNamesExtension(t){let e;return this.grid.registry.forMulti("overlayPanels",n=>{for(const l of n)if(l.name===t)return e=l,!0}),e}}o(89166);var f=o(36895),R=o(40445);let h=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[b],imports:[f.ez,E.U8,R.vT]}),r})()},89166:(D,O,o)=>{o.d(O,{s:()=>P});var v=o(14625),u=o(94650);let P=(()=>{class i extends v.Te{constructor(s,c){super(s,c),this.kind="overlayPanels"}}return i.\u0275fac=function(s){return new(s||i)(u.Y36(u.Rgc),u.Y36(v.B6))},i.\u0275dir=u.lG2({type:i,selectors:[["","pblNgridOverlayPanelDef",""]],inputs:{name:["pblNgridOverlayPanelDef","name"]},features:[u.qOj]}),i})()}}]);