"use strict";(self.webpackChunkngrid_docs_app=self.webpackChunkngrid_docs_app||[]).push([[4256],{27569:(U,v,o)=>{o.d(v,{a:()=>f});var a=o(1576),u=o(55829),n=o(88562),g=o(94650);let f=(()=>{class l{}return l.\u0275fac=function(m){return new(m||l)},l.\u0275mod=g.oAB({type:l}),l.\u0275inj=g.cJS({imports:[a.ae,u.aT,n.RF,a.ae,u.aT,n.RF]}),l})()},24256:(U,v,o)=>{o.r(v),o.d(v,{ActionRowExampleModule:()=>M});var a=o(70655),u=o(36895),n=o(97392),g=o(44144),f=o(4859),l=o(59549),e=o(14625),m=o(41689),d=o(59585),i=o(77909),r=o(88562),s=o(27569),t=o(94650),h=o(21281),E=o(50841),y=o(601),P=o(37048),_=o(84820),C=o(78321),k=o(33168),B=o(96308),x=o(1576);function I(p,b){if(1&p&&t._UZ(0,"pbl-ngrid-paginator",3),2&p){const c=b.$implicit;t.Q6J("grid",c)("paginator",c.ds.paginator)}}const T=["actionRow"];function O(p,b){if(1&p){const c=t.EpF();t.TgZ(0,"mat-form-field",7)(1,"mat-label"),t._uU(2,"Filter"),t.qZA(),t.TgZ(3,"input",8,9),t.NdJ("keyup",function(){t.CHM(c);const D=t.MAs(4),W=t.oxw(2);return t.KtG(W.actionRowFilter(D.value))}),t.qZA(),t.TgZ(5,"mat-icon",10),t._uU(6,"search"),t.qZA()()}}function S(p,b){if(1&p){const c=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"h1",3),t._uU(3),t.qZA(),t._UZ(4,"div",4),t.YNc(5,O,7,0,"mat-form-field",5),t.TgZ(6,"button",6),t.NdJ("click",function(){t.CHM(c);const D=t.oxw();return t.KtG(D.refresh())}),t.TgZ(7,"mat-icon"),t._uU(8,"refresh"),t.qZA()()()()}if(2&p){const c=t.oxw();t.xp6(3),t.Oqu(c.label),t.xp6(2),t.Q6J("ngIf",c.filter)}}let R=class{constructor(b){this.datasource=b,this.columns=(0,e.I7)().default({minWidth:100}).table({prop:"id",sort:!0,width:"40px"},{prop:"name",sort:!0},{prop:"gender",width:"50px"},{prop:"birthdate",type:"date"}).build(),this.ds=(0,e.AV)().onTrigger(()=>this.datasource.getPeople(500,500)).create()}};R.\u0275fac=function(b){return new(b||R)(t.Y36(E.BQ))},R.\u0275cmp=t.Xpm({type:R,selectors:[["pbl-action-row-example"]],decls:3,vars:2,consts:[["blockUi","","usePagination","","matSort","",3,"dataSource","columns"],["filter","","label","My Grid"],[3,"grid","paginator",4,"pblNgridPaginatorRef"],[3,"grid","paginator"]],template:function(b,c){1&b&&(t.TgZ(0,"pbl-ngrid",0),t._UZ(1,"my-grid-action-row",1),t.YNc(2,I,1,2,"pbl-ngrid-paginator",2),t.qZA()),2&b&&t.Q6J("dataSource",c.ds)("columns",c.columns)},dependencies:function(){return[y.Y,P.eZ,_.C,C.Z,k.u,B.YE,N]},encapsulation:2,changeDetection:0}),R=(0,a.gn)([(0,r.en)("pbl-action-row-example",{title:"Action Row"}),(0,a.w6)("design:paramtypes",[E.BQ])],R);let N=(()=>{class p{constructor(c){this.grid=c,this._filter=!1}get filter(){return this._filter}set filter(c){this._filter=(0,h.Ig)(c)}refresh(){this.grid.ds.refresh()}ngAfterViewInit(){this.grid.createView("beforeTable",this.actionRow)}actionRowFilter(c){this.grid.ds.setFilter(c.trim(),this.grid.columnApi.visibleColumns)}}return p.\u0275fac=function(c){return new(c||p)(t.Y36(e.eZ))},p.\u0275cmp=t.Xpm({type:p,selectors:[["my-grid-action-row"]],viewQuery:function(c,A){if(1&c&&t.Gf(T,7,t.Rgc),2&c){let D;t.iGM(D=t.CRH())&&(A.actionRow=D.first)}},inputs:{filter:"filter",label:"label"},decls:2,vars:0,consts:[["actionRow",""],[1,"pbl-ngrid-header-row","pbl-ngrid-action-label-row","pbl-full-width"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px",1,"pbl-ngrid-header-cell"],["fxFlex","noshrink"],["fxFlex","*"],["appearance","outline","class","search-form-field",4,"ngIf"],["mat-stroked-button","","color","primary",1,"pbl-stroked-icon",3,"click"],["appearance","outline",1,"search-form-field"],["matInput","",3,"keyup"],["input",""],["matPrefix",""]],template:function(c,A){1&c&&t.YNc(0,S,9,2,"ng-template",null,0,t.W1O)},dependencies:[u.O5,n.Hw,l.KE,l.hX,l.qo,g.Nt,f.lW,x.xw,x.SQ,x.Wh,x.yH],styles:[".pbl-ngrid-header-row.pbl-ngrid-action-row{margin-bottom:8px}.pbl-ngrid-header-row.pbl-ngrid-action-label-row{border:none}.pbl-ngrid-header-row.pbl-ngrid-action-label-row h1{margin:0}.pbl-ngrid-header-row.pbl-ngrid-action-label-row .search-form-field.mat-form-field-appearance-outline{transform:scale(.8124576845);margin-bottom:-1.09375em}.pbl-ngrid-header-row.pbl-ngrid-action-label-row .search-form-field.mat-form-field-appearance-outline .mat-form-field-infix{padding:.75em 0}\n"],encapsulation:2}),p})(),M=class{};M.\u0275fac=function(b){return new(b||M)},M.\u0275mod=t.oAB({type:M}),M.\u0275inj=t.cJS({imports:[u.ez,n.Ps,g.c,f.ot,l.lN,s.a,e.dC,m.sj,d.J,i.d]}),M=(0,a.gn)([(0,r.qB)(R)],M)},77909:(U,v,o)=>{o.d(v,{d:()=>m});var a=o(33168),u=o(36895),n=o(96308),g=o(4859),f=o(14625);class l extends f.id{constructor(i){super(),this.cfr=i,this.name="sortContainer",this.kind="dataHeaderExtensions",this.projectContent=!0}shouldRender(i){return!!i.col.sort&&!!i.injector.get(n.YE,!1)}getFactory(i){return this.cfr.resolveComponentFactory(n.nU)}onCreated(i,r){this.deregisterId(i,r.instance.id=i.col.id),r.changeDetectorRef.markForCheck()}deregisterId(i,r){const s=i.injector.get(n.YE),t=s.sortables.get(r);t&&s.deregister(t)}}var e=o(94650);class m{constructor(i,r){this.registry=i,i.addMulti("dataHeaderExtensions",new l(r))}}m.NGRID_PLUGIN=(0,f.Ic)({id:a.d},a.u),m.\u0275fac=function(i){return new(i||m)(e.LFG(f.B6),e.LFG(e._Vd))},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({imports:[u.ez,g.ot,n.JX,f.dC,n.JX]})},33168:(U,v,o)=>{o.d(v,{d:()=>f,u:()=>l});var a=o(3805),u=o(14625),n=o(94650),g=o(96308);const f="matSort";let l=(()=>{class e{constructor(d,i,r){this.table=d,this.pluginCtrl=i,this.sort=r,this._removePlugin=i.setPlugin(f,this);let s="click";this.sort.sortChange.pipe((0,a.dW)(this)).subscribe(h=>{this.onSort(h,s),s="click"});const t=h=>{const{column:E}=h,y=h.sort?h.sort.order:void 0;if(this.sort&&E){if(this.sort.active===E.id&&this.sort.direction===(y||""))return;const P=this.sort.sortables.get(E.id);P&&(s="ds",this.sort.active=void 0,P.start=y||"asc",P._handleClick())}else if(this.sort.active){const P=this.sort.sortables.get(this.sort.active);if(P){if(!P.disableClear){let _;for(;_=this.sort.getNextSortDirection(P);)this.sort.direction=_}s="ds",P._handleClick()}}};i.events.pipe(a.aL).subscribe(h=>{const E=this.sort&&this.sort.active;d.ds&&d.ds.sort&&(!d.ds.sort.column&&E?this.onSort({active:this.sort.active,direction:this.sort.direction||"asc"},s):d.ds.sort.column&&!E&&setTimeout(()=>t(d.ds.sort)))}),i.events.subscribe(h=>{"onDataSource"===h.kind&&(a.dW.kill(this,h.prev),this.sort&&this.sort.active&&this.onSort({active:this.sort.active,direction:this.sort.direction||"asc"},s),d.ds.sortChange.pipe((0,a.dW)(this,h.curr)).subscribe(E=>{t(E)}))})}ngOnDestroy(){this._removePlugin(this.table),a.dW.kill(this)}onSort(d,i){const r=this.table,s=r.columnApi.visibleColumns.find(t=>t.id===d.active);if("click"===i&&s&&s.sort){const t={},h="function"==typeof s.sort&&s.sort;d.direction&&(t.order=d.direction),h&&(t.sortFn=h);const E=r.ds.sort;if(s===E.column&&t.order===(E.sort||{}).order)return;r.ds.setSort(s,t)}}}return e.\u0275fac=function(d){return new(d||e)(n.Y36(u.eZ),n.Y36(u.q5),n.Y36(g.YE))},e.\u0275dir=n.lG2({type:e,selectors:[["pbl-ngrid","matSort",""]],exportAs:["pblMatSort"]}),e})()},41689:(U,v,o)=>{o.d(v,{sj:()=>e}),o(72035);var u=o(84820),n=o(36895),g=o(55013),f=o(14625),l=o(94650);class e{}e.NGRID_PLUGIN=(0,f.Ic)({id:u.d},u.C),e.\u0275fac=function(d){return new(d||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[n.ez,g.HT,f.dC]})},84820:(U,v,o)=>{o.d(v,{C:()=>e,d:()=>l});var a=o(54715),u=o(21281),n=o(3805),g=o(14625),f=o(94650);const l="blockUi";let e=(()=>{class m{constructor(i,r){this.grid=i,this._blockInProgress=!1,this._removePlugin=r.setPlugin(l,this),i.registry.changes.subscribe(s=>{for(const t of s)"blocker"===t.type&&this.setupBlocker()}),r.onInit().subscribe(s=>{s&&this._blockUi&&"boolean"==typeof this._blockUi&&this.setupBlocker()}),r.events.subscribe(s=>{if("onDataSource"===s.kind){const{prev:t,curr:h}=s;t&&n.dW.kill(this,t),h.onSourceChanging.pipe((0,n.dW)(this,h)).subscribe(()=>{"auto"===this._blockUi&&(this._blockInProgress=!0,this.setupBlocker())}),h.onSourceChanged.pipe((0,n.dW)(this,h)).subscribe(()=>{"auto"===this._blockUi&&(this._blockInProgress=!1,this.setupBlocker())})}})}get blockUi(){return this._blockUi}set blockUi(i){let r=(0,u.Ig)(i);r&&("auto"===i||""===i)&&(r="auto"),(0,a.b)(i)&&this._blockUi!==i?((0,a.b)(this._blockUi)&&n.dW.kill(this,this._blockUi),this._blockUi=i,i.pipe((0,n.dW)(this,this._blockUi)).subscribe(s=>{this._blockInProgress=s,this.setupBlocker()})):this._blockUi!==r&&(this._blockUi=r,"auto"!==r&&(this._blockInProgress=r,this.setupBlocker()))}ngOnDestroy(){n.dW.kill(this),this._removePlugin(this.grid)}setupBlocker(){if(this.grid.isInit)if(this._blockInProgress){if(!this._blockerEmbeddedVRef){const r=this.grid.registry.getSingle("blocker");r&&(this._blockerEmbeddedVRef=this.grid.createView("afterContent",r.tRef,{$implicit:this.grid}),this._blockerEmbeddedVRef.detectChanges())}}else this._blockerEmbeddedVRef&&(this.grid.removeView(this._blockerEmbeddedVRef,"afterContent"),this._blockerEmbeddedVRef=void 0)}}return m.\u0275fac=function(i){return new(i||m)(f.Y36(g.eZ),f.Y36(g.q5))},m.\u0275dir=f.lG2({type:m,selectors:[["pbl-ngrid","blockUi",""]],inputs:{blockUi:"blockUi"},exportAs:["blockUi"]}),m})()},72035:(U,v,o)=>{o.d(v,{r:()=>n});var a=o(14625),u=o(94650);let n=(()=>{class g extends a.iT{constructor(l,e){super(l,e),this.kind="blocker"}}return g.\u0275fac=function(l){return new(l||g)(u.Y36(u.Rgc),u.Y36(a.B6))},g.\u0275dir=u.lG2({type:g,selectors:[["","pblNgridBlockUiDef",""]],features:[u.qOj]}),g})()}}]);